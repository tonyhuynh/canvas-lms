window.Raphael=function(){function P(a,b,c){function e(){var g=Array[q].splice.call(arguments,0,arguments[p]),f=g[y]("\u25ba"),l=e.cache=e.cache||{},m=e.count=e.count||[];if(l[v](f))return c?c(l[f]):l[f];m[p]>=1E3&&delete l[m.shift()];m[z](f);l[f]=a[x](b,g);return c?c(l[f]):l[f]}return e}var T=/[, ]+/,o=document,n=window,k={was:"Raphael"in n,is:n.Raphael},i=function(){if(i.is(arguments[0],"array")){for(var a=arguments[0],b=va[x](i,a.splice(0,3+i.is(a[0],H))),c=b.set(),e=0,g=a[p];e<g;e++){var f=a[e]||
{};({circle:1,rect:1,path:1,ellipse:1,text:1,image:1})[v](f.type)&&c[z](b[f.type]().attr(f))}return c}return va[x](i,arguments)},h={},s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup"],v="hasOwnProperty",q="prototype",x="apply",p="length",y="join",z="push",w=parseFloat,B=parseInt,S=Math.pow,A=Math.min,D=Math.max,t=Math.round,E=/^(?=[\da-f]$)/,H="number",F={"clip-rect":"0 0 10e9 10e9",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10",
"font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},L={"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rotation:"csv",
rx:H,ry:H,scale:"csv",stroke:"colour","stroke-opacity":H,"stroke-width":H,translation:"csv",width:H,x:H,y:H};i.version="1.2.1";i.type=n.SVGAngle||o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";i.svg=!(i.vml=i.type=="VML");i._id=0;i._oid=0;i.fn={};i.is=function(a,b){b=(b+"").toLowerCase();return(b=="object"||b=="undefined")&&typeof a==b||a==null&&b=="null"||Object[q].toString.call(a).replace(/^\[object\s+|\]$/gi,"").toLowerCase()==b};i.setWindow=
function(a){n=a;o=n.document};var J=function(a){if(i.vml)J=P(function(c){var e;try{var g=new ActiveXObject("htmlfile");g.write("<body>");g.close();e=g.body}catch(f){e=createPopup().document.body}g=e.createTextRange();e.style.color=c;c=g.queryCommandValue("ForeColor");return"#"+("000000"+((c&255)<<16|c&65280|(c&16711680)>>>16).toString(16)).slice(-6)});else{var b=o.createElement("i");b.className="Rapha\u00ebl colour picker";b.style.cssText="display:none";o.body.appendChild(b);J=P(function(c){b.style.color=
c;return o.defaultView.getComputedStyle(b,"").getPropertyValue("color")})}return J(a)};i.hsb2rgb=P(function(a,b,c){if(i.is(a,"object")&&"h"in a&&"s"in a&&"b"in a){c=a.b;b=a.s;a=a.h}var e;if(c==0)return{r:0,g:0,b:0,hex:"#000"};if(a>1||b>1||c>1){a/=255;b/=255;c/=255}e=~~(a*6);a=a*6-e;var g=c*(1-b),f=c*(1-b*a),l=c*(1-b*(1-a));a=[c,f,g,g,l,c,c][e];b=[l,c,c,f,g,g,l][e];e=[g,g,l,c,c,f,g][e];a*=255;b*=255;e*=255;c={r:a,g:b,b:e};a=(~~a).toString(16);b=(~~b).toString(16);e=(~~e).toString(16);a=a.replace(E,
"0");b=b.replace(E,"0");e=e.replace(E,"0");c.hex="#"+a+b+e;return c},i);i.rgb2hsb=P(function(a,b,c){if(i.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(i.is(a,"string")){var e=i.getRGB(a);a=e.r;b=e.g;c=e.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}e=D(a,b,c);var g=A(a,b,c);if(g==e)return{h:0,s:0,b:e};else{g=e-g;a=a==e?(b-c)/g:b==e?2+(c-a)/g:4+(a-b)/g;a/=6;a<0&&a++;a>1&&a--}return{h:a,s:g/e,b:e}},i);i._path2string=function(){for(var a="",b=0,c=this[p];b<c;b++){for(var e=0,g=this[b][p];e<
g;e++){a+=this[b][e];e&&e!=g-1&&(a+=",")}b!=c-1&&(a+=" ")}return a.replace(/,(?=-)/g,"")};i.getRGB=P(function(a){if(!a||(a+"").indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};a+="";if(a=="none")return{r:-1,g:-1,b:-1,hex:"none"};!{hs:1,rg:1}[v](a.substring(0,2))&&(a=J(a));var b,c,e;if(a=a.match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i)){if(a[2]){e=
B(a[2].substring(5),16);c=B(a[2].substring(3,5),16);b=B(a[2].substring(1,3),16)}if(a[3]){e=B(a[3].substring(3)+a[3].substring(3),16);c=B(a[3].substring(2,3)+a[3].substring(2,3),16);b=B(a[3].substring(1,2)+a[3].substring(1,2),16)}if(a[4]){a=a[4].split(/\s*,\s*/);b=w(a[0]);c=w(a[1]);e=w(a[2])}if(a[5]){a=a[5].split(/\s*,\s*/);b=w(a[0])*2.55;c=w(a[1])*2.55;e=w(a[2])*2.55}if(a[6]){a=a[6].split(/\s*,\s*/);b=w(a[0]);c=w(a[1]);e=w(a[2]);return i.hsb2rgb(b,c,e)}if(a[7]){a=a[7].split(/\s*,\s*/);b=w(a[0])*2.55;
c=w(a[1])*2.55;e=w(a[2])*2.55;return i.hsb2rgb(b,c,e)}a={r:b,g:c,b:e};b=(~~b).toString(16);c=(~~c).toString(16);e=(~~e).toString(16);b=b.replace(E,"0");c=c.replace(E,"0");e=e.replace(E,"0");a.hex="#"+b+c+e;return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},i);i.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return b.hex};i.getColor.reset=function(){delete this.start};
i.parsePathString=P(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];if(i.is(a,"array")&&i.is(a[0],"array"))c=da(a);c[p]||(a+"").replace(/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(e,g,f){var l=[];e=g.toLowerCase();for(f.replace(/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(m,j){j&&l[z](+j)});l[p]>=b[e];){c[z]([g].concat(l.splice(0,b[e])));if(!b[e])break}});c.toString=i._path2string;return c});var O=P(function(a){if(!a)return{x:0,y:0,
width:0,height:0};a=fa(a);for(var b=0,c=0,e=[],g=[],f=0,l=a[p];f<l;f++)if(a[f][0]=="M"){b=a[f][1];c=a[f][2];e[z](b);g[z](c)}else{var m=ka(b,c,a[f][1],a[f][2],a[f][3],a[f][4],a[f][5],a[f][6]);e=e.concat(m.min.x,m.max.x);g=g.concat(m.min.y,m.max.y)}a=A[x](0,e);b=A[x](0,g);return{x:a,y:b,width:D[x](0,e)-a,height:D[x](0,g)-b}}),da=function(a){var b=[];if(!i.is(a,"array")||!i.is(a&&a[0],"array"))a=i.parsePathString(a);for(var c=0,e=a[p];c<e;c++){b[c]=[];for(var g=0,f=a[c][p];g<f;g++)b[c][g]=a[c][g]}b.toString=
i._path2string;return b},ga=P(function(a){if(!i.is(a,"array")||!i.is(a&&a[0],"array"))a=i.parsePathString(a);var b=[],c=0,e=0,g=0,f=0,l=0;if(a[0][0]=="M"){c=a[0][1];e=a[0][2];g=c;f=e;l++;b[z](["M",c,e])}for(var m=a[p];l<m;l++){var j=b[l]=[],u=a[l];if(u[0]!=u[0].toLowerCase()){j[0]=u[0].toLowerCase();switch(j[0]){case "a":j[1]=u[1];j[2]=u[2];j[3]=u[3];j[4]=u[4];j[5]=u[5];j[6]=+(u[6]-c).toFixed(3);j[7]=+(u[7]-e).toFixed(3);break;case "v":j[1]=+(u[1]-e).toFixed(3);break;case "m":g=u[1];f=u[2];default:for(var M=
1,N=u[p];M<N;M++)j[M]=+(u[M]-(M%2?c:e)).toFixed(3)}}else{b[l]=[];if(u[0]=="m"){g=u[1]+c;f=u[2]+e}j=0;for(M=u[p];j<M;j++)b[l][j]=u[j]}u=b[l][p];switch(b[l][0]){case "z":c=g;e=f;break;case "h":c+=+b[l][u-1];break;case "v":e+=+b[l][u-1];break;default:c+=+b[l][u-2];e+=+b[l][u-1]}}b.toString=i._path2string;return b},0,da),aa=P(function(a){if(!i.is(a,"array")||!i.is(a&&a[0],"array"))a=i.parsePathString(a);var b=[],c=0,e=0,g=0,f=0,l=0;if(a[0][0]=="M"){c=+a[0][1];e=+a[0][2];g=c;f=e;l++;b[0]=["M",c,e]}for(var m=
a[p];l<m;l++){var j=b[l]=[],u=a[l];if(u[0]!=(u[0]+"").toUpperCase()){j[0]=(u[0]+"").toUpperCase();switch(j[0]){case "A":j[1]=u[1];j[2]=u[2];j[3]=u[3];j[4]=u[4];j[5]=u[5];j[6]=+(u[6]+c);j[7]=+(u[7]+e);break;case "V":j[1]=+u[1]+e;break;case "H":j[1]=+u[1]+c;break;case "M":g=+u[1]+c;f=+u[2]+e;default:for(var M=1,N=u[p];M<N;M++)j[M]=+u[M]+(M%2?c:e)}}else{M=0;for(N=u[p];M<N;M++)b[l][M]=u[M]}switch(j[0]){case "Z":c=g;e=f;break;case "H":c=j[1];break;case "V":e=j[1];break;default:c=b[l][b[l][p]-2];e=b[l][b[l][p]-
1]}}b.toString=i._path2string;return b},null,da),Q=function(a,b,c,e,g,f){var l=1/3,m=2/3;return[l*a+m*c,l*b+m*e,l*g+m*c,l*f+m*e,g,f]},W=function(a,b,c,e,g,f,l,m,j,u){var M=Math.PI,N=M*120/180,R=M/180*(+g||0),Z=[],K,C=P(function(na,sa,ta){return{x:na*Math.cos(ta)-sa*Math.sin(ta),y:na*Math.sin(ta)+sa*Math.cos(ta)}});if(u){f=u[0];K=u[1];ba=u[2];ca=u[3]}else{K=C(a,b,-R);a=K.x;b=K.y;K=C(m,j,-R);m=K.x;j=K.y;K=(a-m)/2;ba=(b-j)/2;c=D(c,Math.abs(K));e=D(e,Math.abs(ba));ca=c*c;var I=e*e;f=(f==l?-1:1)*Math.sqrt(Math.abs((ca*
I-ca*ba*ba-I*K*K)/(ca*ba*ba+I*K*K)));var ba=f*c*ba/e+(a+m)/2,ca=f*-e*K/c+(b+j)/2;f=Math.asin((b-ca)/e);K=Math.asin((j-ca)/e);f=a<ba?M-f:f;K=m<ba?M-K:K;f<0&&(f=M*2+f);K<0&&(K=M*2+K);if(l&&f>K)f-=M*2;if(!l&&K>f)K-=M*2}if(Math.abs(K-f)>N){Z=K;M=m;I=j;K=f+N*(l&&K>f?1:-1);m=ba+c*Math.cos(K);j=ca+e*Math.sin(K);Z=W(m,j,c,e,g,0,l,M,I,[K,Z,ba,ca])}g=Math.tan((K-f)/4);c=4/3*c*g;g*=4/3*e;e=[a,b];a=[a+c*Math.sin(f),b-g*Math.cos(f)];b=[m+c*Math.sin(K),j-g*Math.cos(K)];m=[m,j];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];
if(u)return[a,b,m].concat(Z);else{Z=[a,b,m].concat(Z)[y](",").split(",");u=[];m=0;for(j=Z[p];m<j;m++)u[m]=m%2?C(Z[m-1],Z[m],R).y:C(Z[m],Z[m+1],R).x;return u}},X=P(function(a,b,c,e,g,f,l,m,j){var u=S(1-j,3)*a+S(1-j,2)*3*j*c+(1-j)*3*j*j*g+S(j,3)*l,M=S(1-j,3)*b+S(1-j,2)*3*j*e+(1-j)*3*j*j*f+S(j,3)*m;return{x:u,y:M,m:{x:a+2*j*(c-a)+j*j*(g-2*c+a),y:b+2*j*(e-b)+j*j*(f-2*e+b)},n:{x:c+2*j*(g-c)+j*j*(l-2*g+c),y:e+2*j*(f-e)+j*j*(m-2*f+e)},start:{x:(1-j)*a+j*c,y:(1-j)*b+j*e},end:{x:(1-j)*g+j*l,y:(1-j)*f+j*m}}}),
ka=P(function(a,b,c,e,g,f,l,m){var j=g-2*c+a-(l-2*g+c),u=2*(c-a)-2*(g-c),M=a-c,N=(-u+Math.sqrt(u*u-4*j*M))/2/j;j=(-u-Math.sqrt(u*u-4*j*M))/2/j;var R=[b,m],Z=[a,l];N=X(a,b,c,e,g,f,l,m,N>0&&N<1?N:0);j=X(a,b,c,e,g,f,l,m,j>0&&j<1?j:0);Z=Z.concat(N.x,j.x);R=R.concat(N.y,j.y);j=f-2*e+b-(m-2*f+e);u=2*(e-b)-2*(f-e);M=b-e;N=(-u+Math.sqrt(u*u-4*j*M))/2/j;j=(-u-Math.sqrt(u*u-4*j*M))/2/j;N=X(a,b,c,e,g,f,l,m,N>0&&N<1?N:0);j=X(a,b,c,e,g,f,l,m,j>0&&j<1?j:0);Z=Z.concat(N.x,j.x);R=R.concat(N.y,j.y);return{min:{x:A[x](0,
Z),y:A[x](0,R)},max:{x:D[x](0,Z),y:D[x](0,R)}}}),fa=P(function(a,b){var c=aa(a),e=b&&aa(b),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(C,I){var ba,ca;if(!C)return["C",I.x,I.y,I.x,I.y,I.x,I.y];!(C[0]in{T:1,Q:1})&&(I.qx=I.qy=null);switch(C[0]){case "M":I.X=C[1];I.Y=C[2];break;case "A":C=["C"].concat(W[x](0,[I.x,I.y].concat(C.slice(1))));break;case "S":ba=I.x+(I.x-(I.bx||I.x));ca=I.y+(I.y-(I.by||I.y));C=["C",ba,ca].concat(C.slice(1));break;case "T":I.qx=
I.x+(I.x-(I.qx||I.x));I.qy=I.y+(I.y-(I.qy||I.y));C=["C"].concat(Q(I.x,I.y,I.qx,I.qy,C[1],C[2]));break;case "Q":I.qx=C[1];I.qy=C[2];C=["C"].concat(Q(I.x,I.y,C[1],C[2],C[3],C[4]));break;case "L":C=["C"].concat([I.x,I.y,C[1],C[2],C[1],C[2]]);break;case "H":C=["C"].concat([I.x,I.y,C[1],I.y,C[1],I.y]);break;case "V":C=["C"].concat([I.x,I.y,I.x,C[1],I.x,C[1]]);break;case "Z":C=["C"].concat([I.x,I.y,I.X,I.Y,I.X,I.Y])}return C},m=function(C,I){if(C[I][p]>7){C[I].shift();for(var ba=C[I];ba[p];)C.splice(I++,
0,["C"].concat(ba.splice(0,6)));C.splice(I,1);M=D(c[p],e&&e[p]||0)}},j=function(C,I,ba,ca,na){if(C&&I&&C[na][0]=="M"&&I[na][0]!="M"){I.splice(na,0,["M",ca.x,ca.y]);ba.bx=0;ba.by=0;ba.x=C[na][1];ba.y=C[na][2];M=D(c[p],e&&e[p]||0)}},u=0,M=D(c[p],e&&e[p]||0);for(;u<M;u++){c[u]=l(c[u],g);m(c,u);e&&(e[u]=l(e[u],f));e&&m(e,u);j(c,e,g,f,u);j(e,c,f,g,u);var N=c[u],R=e&&e[u],Z=N[p],K=e&&R[p];g.x=N[Z-2];g.y=N[Z-1];g.bx=w(N[Z-4])||g.x;g.by=w(N[Z-3])||g.y;f.bx=e&&(w(R[K-4])||f.x);f.by=e&&(w(R[K-3])||f.y);f.x=
e&&R[K-2];f.y=e&&R[K-1]}return e?[c,e]:c},null,da),ra=P(function(a){for(var b=[],c=0,e=a[p];c<e;c++){var g={},f=a[c].match(/^([^:]*):?([\d\.]*)/);g.color=i.getRGB(f[1]);if(g.color.error)return null;g.color=g.color.hex;f[2]&&(g.offset=f[2]+"%");b[z](g)}c=1;for(e=b[p]-1;c<e;c++)if(!b[c].offset){a=w(b[c-1].offset||0);f=0;for(g=c+1;g<e;g++)if(b[g].offset){f=b[g].offset;break}if(!f){f=100;g=e}f=w(f);for(f=(f-a)/(g-c+1);c<g;c++){a+=f;b[c].offset=a+"%"}}return b}),V=function(){var a;if(i.is(arguments[0],
"string")||i.is(arguments[0],"object")){a=i.is(arguments[0],"string")?o.getElementById(arguments[0]):arguments[0];if(a.tagName)return arguments[1]==null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:arguments[1],height:arguments[2]}}else if(i.is(arguments[0],H)&&arguments[p]>3)return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}},$=function(a,b){var c=this,e;for(e in b)if(b[v](e)&&!(e in a))switch(typeof b[e]){case "function":(function(g){a[e]=
a===c?g:function(){return g[x](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};$.call(this,a[e],b[e]);break;default:a[e]=b[e]}};if(i.svg){h.svgns="http://www.w3.org/2000/svg";h.xlink="http://www.w3.org/1999/xlink";t=function(a){return+a+(~~a===a)*0.5};var Y=function(a){for(var b=0,c=a[p];b<c;b++)if(a[b][0].toLowerCase()!="a")for(var e=1,g=a[b][p];e<g;e++)a[b][e]=t(a[b][e]);else{a[b][6]=t(a[b][6]);a[b][7]=t(a[b][7])}return a},G=function(a,b){if(b)for(var c in b)b[v](c)&&a.setAttribute(c,b[c]);
else return o.createElementNS(h.svgns,a)};i.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var ia=function(a,b){var c=G("path");b.canvas&&b.canvas.appendChild(c);c=new U(c,b);c.type="path";ha(c,{fill:"none",stroke:"#000",path:a});return c},ea=function(a,b,c){var e="linear",g=0.5,f=0.5,l=a.style;b=(b+"").replace(/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,function(M,N,R){e="radial";if(N&&R){g=w(N);f=w(R);if(S(g-0.5,2)+S(f-0.5,2)>0.25)f=Math.sqrt(0.25-
S(g-0.5,2))+0.5}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var m=b.shift();m=-w(m);if(isNaN(m))return null;var j=[0,0,Math.cos(m*Math.PI/180),Math.sin(m*Math.PI/180)];m=1/(D(Math.abs(j[2]),Math.abs(j[3]))||1);j[2]*=m;j[3]*=m;if(j[2]<0){j[0]=-j[2];j[2]=0}if(j[3]<0){j[1]=-j[3];j[3]=0}}b=ra(b);if(!b)return null;m=G(e+"Gradient");m.id="r"+(i._id++).toString(36);e=="radial"?G(m,{fx:g,fy:f}):G(m,{x1:j[0],y1:j[1],x2:j[2],y2:j[3]});c.defs.appendChild(m);c=0;for(j=b[p];c<j;c++){var u=G("stop");G(u,{offset:b[c].offset?
b[c].offset:!c?"0%":"100%","stop-color":b[c].color||"#fff"});m.appendChild(u)}G(a,{fill:"url(#"+m.id+")",opacity:1,"fill-opacity":1});l.fill="";l.opacity=1;return l.fillOpacity=1},oa=function(a){var b=a.getBBox();G(a.pattern,{patternTransform:i.format("translate({0},{1})",b.x,b.y)})},ha=function(a,b){var c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,g=a.attrs,f=a.rotate(),l=
function(Z,K){if(K=c[(K+"").toLowerCase()]){for(var C=Z.attrs["stroke-width"]||"1",I={round:C,square:C,butt:0}[Z.attrs["stroke-linecap"]||b["stroke-linecap"]]||0,ba=[],ca=K[p];ca--;)ba[ca]=K[ca]*C+(ca%2?1:-1)*I;G(e,{"stroke-dasharray":ba[y](",")})}};w(f)&&a.rotate(0,true);for(var m in b)if(b[v](m))if(m in F){var j=b[m];g[m]=j;switch(m){case "href":case "title":case "target":var u=e.parentNode;if(u.tagName.toLowerCase()!="a"){var M=G("a");u.insertBefore(M,e);M.appendChild(e);u=M}u.setAttributeNS(a.paper.xlink,
m,j);break;case "clip-rect":u=(j+"").split(T);if(u[p]==4){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var N=G("clipPath");M=G("rect");N.id="r"+(i._id++).toString(36);G(M,{x:u[0],y:u[1],width:u[2],height:u[3]});N.appendChild(M);a.paper.defs.appendChild(N);G(e,{"clip-path":"url(#"+N.id+")"});a.clip=M}if(!j){(j=o.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&j.parentNode.removeChild(j);G(e,{"clip-path":""});delete a.clip}break;case "path":if(j&&a.type==
"path"){g.path=Y(aa(j));G(e,{d:g.path})}break;case "width":e.setAttribute(m,j);if(g.fx){m="x";j=g.x}else break;case "x":if(g.fx)j=-g.x-(g.width||0);case "rx":if(m=="rx"&&a.type=="rect")break;case "cx":e.setAttribute(m,t(j));a.pattern&&oa(a);break;case "height":e.setAttribute(m,j);if(g.fy){m="y";j=g.y}else break;case "y":if(g.fy)j=-g.y-(g.height||0);case "ry":if(m=="ry"&&a.type=="rect")break;case "cy":e.setAttribute(m,t(j));a.pattern&&oa(a);break;case "r":a.type=="rect"?G(e,{rx:j,ry:j}):e.setAttribute(m,
j);break;case "src":a.type=="image"&&e.setAttributeNS(a.paper.xlink,"href",j);break;case "stroke-width":e.style.strokeWidth=j;e.setAttribute(m,j);g["stroke-dasharray"]&&l(a,g["stroke-dasharray"]);break;case "stroke-dasharray":l(a,j);break;case "rotation":f=j;a.rotate(j,true);break;case "translation":j=(j+"").split(T);a.translate((+j[0]+1||2)-1,(+j[1]+1||2)-1);break;case "scale":j=(j+"").split(T);a.scale(+j[0]||1,+j[1]||+j[0]||1,+j[2]||null,+j[3]||null);break;case "fill":if(u=(j+"").match(/^url\(['"]?([^\)]+)['"]?\)$/i)){N=
G("pattern");var R=G("image");N.id="r"+(i._id++).toString(36);G(N,{x:0,y:0,patternUnits:"userSpaceOnUse"});G(R,{x:0,y:0});R.setAttributeNS(a.paper.xlink,"href",u[1]);N.appendChild(R);j=o.createElement("img");j.style.cssText="position:absolute;left:-9999em;top-9999em";j.onload=function(){G(N,{width:this.offsetWidth,height:this.offsetHeight});G(R,{width:this.offsetWidth,height:this.offsetHeight});o.body.removeChild(this);h.safari()};o.body.appendChild(j);j.src=u[1];a.paper.defs.appendChild(N);e.style.fill=
"url(#"+N.id+")";G(e,{fill:"url(#"+N.id+")"});a.pattern=N;a.pattern&&oa(a);break}if(i.getRGB(j).error){if((a.type in{circle:1,ellipse:1}||(j+"").charAt(0)!="r")&&ea(e,j,a.paper)){g.gradient=j;g.fill="none";break}}else{delete b.gradient;delete g.gradient;if(!i.is(g.opacity,"undefined")&&i.is(b.opacity,"undefined")){e.style.opacity=g.opacity;G(e,{opacity:g.opacity})}if(!i.is(g["fill-opacity"],"undefined")&&i.is(b["fill-opacity"],"undefined")){e.style.fillOpacity=g["fill-opacity"];G(e,{"fill-opacity":g["fill-opacity"]})}}case "stroke":e.style[m]=
i.getRGB(j).hex;e.setAttribute(m,i.getRGB(j).hex);break;case "gradient":(a.type in{circle:1,ellipse:1}||(j+"").charAt(0)!="r")&&ea(e,j,a.paper);break;case "opacity":case "fill-opacity":if(g.gradient){if(u=o.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,""))){u=u.getElementsByTagName("stop");u[u[p]-1].setAttribute("stop-opacity",j)}break}default:m=="font-size"&&(j=B(j,10)+"px");u=m.replace(/(\-.)/g,function(Z){return Z.substring(1).toUpperCase()});e.style[u]=j;e.setAttribute(m,j)}}la(a,
b);w(f)&&a.rotate(f,true)},la=function(a,b){if(!(a.type!="text"||!("text"in b||"font"in b||"font-size"in b||"x"in b||"y"in b))){var c=a.attrs,e=a.node,g=e.firstChild?B(o.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if("text"in b){for(;e.firstChild;)e.removeChild(e.firstChild);for(var f=(b.text+"").split("\n"),l=0,m=f[p];l<m;l++){var j=G("tspan");l&&G(j,{dy:g*1.2,x:c.x});j.appendChild(o.createTextNode(f[l]));e.appendChild(j)}}else{f=e.getElementsByTagName("tspan");
l=0;for(m=f[p];l<m;l++)l&&G(f[l],{dy:g*1.2,x:c.x})}G(e,{y:c.y});g=a.getBBox();(g=c.y-(g.y+g.height/2))&&isFinite(g)&&G(e,{y:c.y+g})}},U=function(a,b){this[0]=a;this.id=i._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1}};U[q].rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][y](" ");return this._.rt.deg}var e=this.getBBox();a=
(a+"").split(T);if(a[p]-1){b=w(a[1]);c=w(a[2])}a=w(a[0]);if(b!=null)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=b==null?e.x+e.width/2:b;c=c==null?e.y+e.height/2:c;if(this._.rt.deg){this.transformations[0]=i.format("rotate({0} {1} {2})",this._.rt.deg,b,c);this.clip&&G(this.clip,{transform:i.format("rotate({0} {1} {2})",-this._.rt.deg,b,c)})}else{this.transformations[0]="";this.clip&&G(this.clip,{transform:""})}G(this.node,{transform:this.transformations[y](" ")});
return this};U[q].hide=function(){!this.removed&&(this.node.style.display="none");return this};U[q].show=function(){!this.removed&&(this.node.style.display="");return this};U[q].remove=function(){this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true};U[q].getBBox=function(){if(this.removed)return this;if(this.type=="path")return O(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=true}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=
b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var e=0,g=this.node.getNumberOfChars();e<g;e++){var f=this.node.getExtentOfChar(e);f.y<b.y&&(b.y=f.y);f.y+f.height-b.y>b.height&&(b.height=f.y+f.height-b.y);f.x+f.width-b.x>b.width&&(b.width=f.x+f.width-b.x)}}a&&this.hide();return b};U[q].attr=function(){if(this.removed)return this;if(arguments[p]==1&&i.is(arguments[0],"string")){if(arguments[0]=="translation")return this.translate();if(arguments[0]=="rotation")return this.rotate();
if(arguments[0]=="scale")return this.scale();return this.attrs[arguments[0]]}if(arguments[p]==1&&i.is(arguments[0],"array")){var a={},b;for(b in arguments[0])if(arguments[0][v](b))a[arguments[0][b]]=this.attrs[arguments[0][b]];return a}if(arguments[p]==2){a={};a[arguments[0]]=arguments[1];ha(this,a)}else arguments[p]==1&&i.is(arguments[0],"object")&&ha(this,arguments[0]);return this};U[q].toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);return this};U[q].toBack=function(){if(this.removed)return this;
this.node.parentNode.firstChild!=this.node&&this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);return this};U[q].insertAfter=function(a){if(this.removed)return this;a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node);return this};U[q].insertBefore=function(a){if(this.removed)return this;a=a.node;a.parentNode.insertBefore(this.node,a);return this};var qa=function(a,b,c,e){b=t(b);c=t(c);var g=G("circle");
a.canvas&&a.canvas.appendChild(g);a=new U(g,a);a.attrs={cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";G(g,a.attrs);return a},ua=function(a,b,c,e,g,f){b=t(b);c=t(c);var l=G("rect");a.canvas&&a.canvas.appendChild(l);a=new U(l,a);a.attrs={x:b,y:c,width:e,height:g,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"};a.type="rect";G(l,a.attrs);return a},ya=function(a,b,c,e,g){b=t(b);c=t(c);var f=G("ellipse");a.canvas&&a.canvas.appendChild(f);a=new U(f,a);a.attrs={cx:b,cy:c,rx:e,ry:g,fill:"none",
stroke:"#000"};a.type="ellipse";G(f,a.attrs);return a},za=function(a,b,c,e,g,f){var l=G("image");G(l,{x:c,y:e,width:g,height:f,preserveAspectRatio:"none"});l.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(l);a=new U(l,a);a.attrs={x:c,y:e,width:g,height:f,src:b};a.type="image";return a},Aa=function(a,b,c,e){var g=G("text");G(g,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(g);a=new U(g,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:F.font,stroke:"none",fill:"#000"};
a.type="text";ha(a,a.attrs);return a},Ba=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},va=function(){var a=V[x](null,arguments),b=a&&a.container,c=a.x,e=a.y,g=a.width;a=a.height;if(!b)throw Error("SVG container not found.");h.canvas=G("svg");var f=h.canvas;h.width=g||512;h.height=a||342;f.setAttribute("width",h.width);f.setAttribute("height",h.height);if(b==1){f.style.cssText=
"position:absolute;left:"+c+"px;top:"+e+"px";o.body.appendChild(f)}else b.firstChild?b.insertBefore(f,b.firstChild):b.appendChild(f);b={canvas:f};for(var l in h)if(h[v](l))b[l]=h[l];$.call(b,b,i.fn);b.clear();b.raphael=i;return b};h.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);(this.desc=G("desc")).appendChild(o.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=G("defs"))};h.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);
for(var a in this)delete this[a]}}if(i.vml){var Ea=function(a){var b=/[ahqtv]/ig,c=aa;(a+"").match(b)&&(c=fa);b=/[clmz]/g;if(c==aa&&!(a+"").match(b)){var e={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/-?[^,\s-]+/g;return a=(a+"").replace(/([clmz]),?([^clmz]*)/gi,function(M,N,R){var Z=[];R.replace(g,function(K){Z[z](t(K))});return e[N]+Z})}b=c(a);a=[];for(var f,l=0,m=b[p];l<m;l++){c=b[l];f=(b[l][0]+"").toLowerCase();f=="z"&&(f="x");for(var j=1,u=c[p];j<u;j++)f+=t(c[j])+(j!=u-1?",":"");a[z](f)}return a[y](" ")};
i.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};ia=function(a,b){var c=ja("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=ja("shape"),g=e.style;g.width=b.width+"px";g.height=b.height+"px";e.coordsize=this.coordsize;e.coordorigin=this.coordorigin;c.appendChild(e);e=new U(e,c,b);e.isAbsolute=true;e.type="path";
e.path=[];e.Path="";a&&ha(e,{fill:"none",stroke:"#000",path:a});b.canvas.appendChild(c);return e};ha=function(a,b){a.attrs=a.attrs||{};var c=a.node,e=a.attrs,g=c.style,f;for(f in b)if(b[v](f))e[f]=b[f];b.href&&(c.href=b.href);b.title&&(c.title=b.title);b.target&&(c.target=b.target);if(b.path&&a.type=="path"){e.path=b.path;c.path=Ea(e.path)}b.rotation!=null&&a.rotate(b.rotation,true);if(b.translation){f=(b.translation+"").split(T);a.translate(f[0],f[1])}if(b.scale){f=(b.scale+"").split(T);a.scale(+f[0]||
1,+f[1]||+f[0]||1,+f[2]||null,+f[3]||null)}if("clip-rect"in b){f=(b["clip-rect"]+"").split(T);if(f[p]==4){f[2]=+f[2]+ +f[0];f[3]=+f[3]+ +f[1];var l=c.clipRect||o.createElement("div"),m=l.style,j=c.parentNode;m.clip=i.format("rect({1}px {2}px {3}px {0}px)",f);if(!c.clipRect){m.position="absolute";m.top=0;m.left=0;m.width=a.paper.width+"px";m.height=a.paper.height+"px";j.parentNode.insertBefore(l,j);l.appendChild(j);c.clipRect=l}}if(!b["clip-rect"])c.clipRect&&(c.clipRect.style.clip="")}if(a.type==
"image"&&b.src)c.src=b.src;if(a.type=="image"&&b.opacity){c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b.opacity*100+")";g.filter=(c.filterMatrix||"")+(c.filterOpacity||"")}b.font&&(g.font=b.font);b["font-family"]&&(g.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(g.fontSize=b["font-size"]);b["font-weight"]&&(g.fontWeight=b["font-weight"]);b["font-style"]&&(g.fontStyle=b["font-style"]);if(b.opacity!=null||b["stroke-width"]!=
null||b.fill!=null||b.stroke!=null||b["stroke-width"]!=null||b["stroke-opacity"]!=null||b["fill-opacity"]!=null||b["stroke-dasharray"]!=null||b["stroke-miterlimit"]!=null||b["stroke-linejoin"]!=null||b["stroke-linecap"]!=null){c=a.shape||c;f=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];l=false;!f&&(l=f=ja("fill"));if("fill-opacity"in b||"opacity"in b){g=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1);g<0&&(g=0);g>1&&(g=1);f.opacity=g}b.fill&&(f.on=true);if(f.on==null||b.fill==
"none")f.on=false;if(f.on&&b.fill)if(g=b.fill.match(/^url\(([^\)]+)\)$/i)){f.src=g[1];f.type="tile"}else{f.color=i.getRGB(b.fill).hex;f.src="";f.type="solid";if(i.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||(b.fill+"").charAt(0)!="r")&&ea(a,b.fill)){e.fill="none";e.gradient=b.fill}}l&&c.appendChild(f);f=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0];l=false;!f&&(l=f=ja("stroke"));if(b.stroke&&b.stroke!="none"||b["stroke-width"]||b["stroke-opacity"]!=null||b["stroke-dasharray"]||
b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])f.on=true;(b.stroke=="none"||f.on==null||b.stroke==0||b["stroke-width"]==0)&&(f.on=false);f.on&&b.stroke&&(f.color=i.getRGB(b.stroke).hex);g=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1);g<0&&(g=0);g>1&&(g=1);f.opacity=g;b["stroke-linejoin"]&&(f.joinstyle=b["stroke-linejoin"]||"miter");f.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(f.endcap={butt:"flat",square:"square",round:"round"}[b["stroke-linecap"]]||"miter");
b["stroke-width"]&&(f.weight=(w(b["stroke-width"])||1)*12/16);if(b["stroke-dasharray"])f.dashstyle={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"}[b["stroke-dasharray"]]||"";l&&c.appendChild(f)}if(a.type=="text"){g=a.paper.span.style;e.font&&(g.font=e.font);e["font-family"]&&(g.fontFamily=e["font-family"]);e["font-size"]&&(g.fontSize=e["font-size"]);e["font-weight"]&&(g.fontWeight=
e["font-weight"]);e["font-style"]&&(g.fontStyle=e["font-style"]);a.node.string&&(a.paper.span.innerHTML=(a.node.string+"").replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));a.W=e.w=a.paper.span.offsetWidth;a.H=e.h=a.paper.span.offsetHeight;a.X=e.x;a.Y=e.y+t(a.H/2);switch(e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=t(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-t(a.W/2);break;default:a.node.style["v-text-align"]="center"}}};ea=function(a,
b){a.attrs=a.attrs||{};var c=a.node.getElementsByTagName("fill"),e="linear",g=".5 .5";a.attrs.gradient=b;b=(b+"").replace(/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,function(M,N,R){e="radial";if(N&&R){N=w(N);R=w(R);if(S(N-0.5,2)+S(R-0.5,2)>0.25)R=Math.sqrt(0.25-S(N-0.5,2))+0.5;g=N+" "+R}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var f=b.shift();f=-w(f);if(isNaN(f))return null}var l=ra(b);if(!l)return null;a=a.shape||a.node;c=c[0]||ja("fill");if(l[p]){c.on=true;c.method="none";c.type=e=="radial"?
"gradientradial":"gradient";c.color=l[0].color;c.color2=l[l[p]-1].color;for(var m=[],j=0,u=l[p];j<u;j++)l[j].offset&&m[z](l[j].offset+" "+l[j].color);c.colors.value=m[p]?m[y](","):"0% "+c.color;if(e=="radial"){c.focus="100%";c.focussize=g;c.focusposition=g}else c.angle=(270-f)%360}return 1};U=function(a,b,c){this[0]=a;this.id=i._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1}};U[q].rotate=function(a,b,c){if(this.removed)return this;
if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][y](" ");return this._.rt.deg}a=(a+"").split(T);if(a[p]-1){b=w(a[1]);c=w(a[2])}a=w(a[0]);if(b!=null)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};U[q].setBox=function(a,b,c){if(this.removed)return this;var e=this.Group.style,g=this.shape&&this.shape.style||this.node.style;a=a||{};for(var f in a)if(a[v](f))this.attrs[f]=
a[f];b=b||this._.rt.cx;c=c||this._.rt.cy;var l=this.attrs,m,j;switch(this.type){case "circle":f=l.cx-l.r;m=l.cy-l.r;j=l=l.r*2;break;case "ellipse":f=l.cx-l.rx;m=l.cy-l.ry;j=l.rx*2;l=l.ry*2;break;case "rect":case "image":f=+l.x;m=+l.y;j=l.width||0;l=l.height||0;break;case "text":this.textpath.v=["m",t(l.x),", ",t(l.y-2),"l",t(l.x)+1,", ",t(l.y-2)][y]("");f=l.x-t(this.W/2);m=l.y-this.H/2;j=this.W;l=this.H;break;case "path":if(this.attrs.path){l=O(this.attrs.path);f=l.x;m=l.y;j=l.width;l=l.height}else{m=
f=0;j=this.paper.width;l=this.paper.height}break;default:m=f=0;j=this.paper.width;l=this.paper.height}b=(b==null?f+j/2:b)-this.paper.width/2;c=(c==null?m+l/2:c)-this.paper.height/2;if(this.type=="path"||this.type=="text"){e.left!=b+"px"&&(e.left=b+"px");e.top!=c+"px"&&(e.top=c+"px");this.X=this.type=="text"?f:-b;this.Y=this.type=="text"?m:-c;this.W=j;this.H=l;g.left!=-b+"px"&&(g.left=-b+"px");g.top!=-c+"px"&&(g.top=-c+"px")}else{e.left!=b+"px"&&(e.left=b+"px");e.top!=c+"px"&&(e.top=c+"px");this.X=
f;this.Y=m;this.W=j;this.H=l;e.width!=this.paper.width+"px"&&(e.width=this.paper.width+"px");e.height!=this.paper.height+"px"&&(e.height=this.paper.height+"px");g.left!=f-b+"px"&&(g.left=f-b+"px");g.top!=m-c+"px"&&(g.top=m-c+"px");g.width!=j+"px"&&(g.width=j+"px");g.height!=l+"px"&&(g.height=l+"px");a=(+a.r||0)/A(j,l);if(this.type=="rect"&&this.arcsize!=a&&(a||this.arcsize)){e=ja(a?"roundrect":"rect");e.arcsize=a;this.Group.appendChild(e);this.node.parentNode.removeChild(this.node);this.node=e;this.arcsize=
a;this.attr(this.attrs)}}};U[q].hide=function(){!this.removed&&(this.Group.style.display="none");return this};U[q].show=function(){!this.removed&&(this.Group.style.display="block");return this};U[q].getBBox=function(){if(this.removed)return this;if(this.type=="path")return O(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};U[q].remove=function(){this.node.parentNode.removeChild(this[0]);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);
for(var a in this)delete this[a];this.removed=true};U[q].attr=function(){if(this.removed)return this;if(arguments[p]==1&&i.is(arguments[0],"string")){if(arguments[0]=="translation")return this.translate();if(arguments[0]=="rotation")return this.rotate();if(arguments[0]=="scale")return this.scale();return this.attrs[arguments[0]]}if(this.attrs&&arguments[p]==1&&i.is(arguments[0],"array")){for(var a={},b=0,c=arguments[0][p];b<c;b++)a[arguments[0][b]]=this.attrs[arguments[0][b]];return a}if(arguments[p]==
2){a={};a[arguments[0]]=arguments[1]}arguments[p]==1&&i.is(arguments[0],"object")&&(a=arguments[0]);if(a){if(a.text&&this.type=="text")this.node.string=a.text;ha(this,a);if(a.gradient&&({circle:1,ellipse:1}[v](this.type)||(a.gradient+"").charAt(0)!="r"))ea(this,a.gradient);this.setBox(this.attrs)}return this};U[q].toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);return this};U[q].toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&
this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);return this};U[q].insertAfter=function(a){if(this.removed)return this;a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);return this};U[q].insertBefore=function(a){!this.removed&&a.Group.parentNode.insertBefore(this.Group,a.Group);return this};qa=function(a,b,c,e){var g=ja("group"),f=ja("oval");g.style.cssText="position:absolute;left:0;top:0;width:"+
a.width+"px;height:"+a.height+"px";g.coordsize=a.coordsize;g.coordorigin=a.coordorigin;g.appendChild(f);f=new U(f,g,a);f.type="circle";ha(f,{stroke:"#000",fill:"none"});f.attrs.cx=b;f.attrs.cy=c;f.attrs.r=e;f.setBox({x:b-e,y:c-e,width:e*2,height:e*2});a.canvas.appendChild(g);return f};ua=function(a,b,c,e,g,f){var l=ja("group"),m=ja(f?"roundrect":"rect"),j=(+f||0)/A(e,g);m.arcsize=j;l.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";l.coordsize=a.coordsize;l.coordorigin=
a.coordorigin;l.appendChild(m);m=new U(m,l,a);m.type="rect";ha(m,{stroke:"#000"});m.arcsize=j;m.setBox({x:b,y:c,width:e,height:g,r:+f});a.canvas.appendChild(l);return m};ya=function(a,b,c,e,g){var f=ja("group"),l=ja("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=a.coordsize;f.coordorigin=a.coordorigin;f.appendChild(l);l=new U(l,f,a);l.type="ellipse";ha(l,{stroke:"#000"});l.attrs.cx=b;l.attrs.cy=c;l.attrs.rx=e;l.attrs.ry=g;l.setBox({x:b-
e,y:c-g,width:e*2,height:g*2});a.canvas.appendChild(f);return l};za=function(a,b,c,e,g,f){var l=ja("group"),m=ja("image");l.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";l.coordsize=a.coordsize;l.coordorigin=a.coordorigin;m.src=b;l.appendChild(m);m=new U(m,l,a);m.type="image";m.attrs.src=b;m.attrs.x=c;m.attrs.y=e;m.attrs.w=g;m.attrs.h=f;m.setBox({x:c,y:e,width:g,height:f});a.canvas.appendChild(l);return m};Aa=function(a,b,c,e){var g=ja("group"),f=ja("shape"),
l=f.style,m=ja("path"),j=ja("textpath");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=a.coordsize;g.coordorigin=a.coordorigin;m.v=i.format("m{0},{1}l{2},{1}",t(b),t(c),t(b)+1);m.textpathok=true;l.width=a.width;l.height=a.height;j.string=e+"";j.on=true;f.appendChild(j);f.appendChild(m);g.appendChild(f);l=new U(j,g,a);l.shape=f;l.textpath=m;l.type="text";l.attrs.text=e;l.attrs.x=b;l.attrs.y=c;l.attrs.w=1;l.attrs.h=1;ha(l,{font:F.font,stroke:"none",
fill:"#000"});l.setBox();a.canvas.appendChild(g);return l};Ba=function(a,b){var c=this.canvas.style;this.width=w(a||this.width);this.height=w(b||this.height);c.width=this.width+"px";c.height=this.height+"px";c.clip="rect(0 "+this.width+"px "+this.height+"px 0)";this.coordsize=this.width+" "+this.height;return this};o.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!o.namespaces.rvml&&o.namespaces.add("rvml","urn:schemas-microsoft-com:vml");var ja=function(a){return o.createElement("<rvml:"+
a+' class="rvml">')}}catch(Ga){ja=function(a){return o.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}va=function(){var a=V[x](null,arguments),b=a.container,c=a.height,e=a.width,g=a.x;a=a.y;if(!b)throw Error("VML container not found.");var f={},l=f.canvas=o.createElement("div"),m=l.style;e=w(e)||512;c=w(c)||342;f.width=e;f.height=c;f.coordsize=e+" "+c;f.coordorigin="0 0";f.span=o.createElement("span");f.span.style.cssText="position:absolute;left:-9999px;top:-9999px;padding:0;margin:0;line-height:1;display:inline;";
l.appendChild(f.span);m.cssText=i.format("width:{0}px;height:{1}px;position:absolute;clip:rect(0 {0}px {1}px 0)",e,c);if(b==1){o.body.appendChild(l);m.left=g+"px";m.top=a+"px";b={style:{width:e,height:c}}}else{b.style.width=e;b.style.height=c;b.firstChild?b.insertBefore(l,b.firstChild):b.appendChild(l)}for(var j in h)if(h[v](j))f[j]=h[j];$.call(f,f,i.fn);f.clear=function(){l.innerHTML=""};f.raphael=i;return f};h.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)delete this[a]}}h.safari=
{"Apple Computer, Inc.":1,"Google Inc.":1}[navigator.vendor]?function(){var a=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){a.remove()})}:function(){};for(var Fa=function(){if(o.addEventListener)return function(a,b,c,e){var g=function(f){return c.call(e,f)};a.addEventListener(b,g,false);return function(){a.removeEventListener(b,g,false);return true}};else if(o.attachEvent)return function(a,b,c,e){var g=function(l){return c.call(e,l||n.event)};a.attachEvent("on"+b,g);var f=
function(){a.detachEvent("on"+b,g);return true};if(b=="mouseover"){a.attachEvent("onmouseenter",g);return function(){a.detachEvent("onmouseenter",g);return f()}}else if(b=="mouseout"){a.attachEvent("onmouseleave",g);return function(){a.detachEvent("onmouseleave",g);return f()}}return f}}(),Ca=s[p];Ca--;)(function(a){U[q][a]=function(b){if(i.is(b,"function")){this.events=this.events||{};this.events[a]=this.events[a]||{};this.events[a][b]=this.events[a][b]||[];this.events[a][b][z](Fa(this.shape||this.node,
a,b,this))}return this};U[q]["un"+a]=function(b){var c=this.events;c&&c[a]&&c[a][b]&&c[a][b][p]&&c[a][b].shift()()&&!c[a][b][p]&&delete c[a][b];return this}})(s[Ca]);U[q].hover=function(a,b){return this.mouseover(a).mouseout(b)};h.circle=function(a,b,c){return qa(this,a||0,b||0,c||0)};h.rect=function(a,b,c,e,g){return ua(this,a||0,b||0,c||0,e||0,g||0)};h.ellipse=function(a,b,c,e){return ya(this,a||0,b||0,c||0,e||0)};h.path=function(a){a&&!i.is(a,"string")&&!i.is(a[0],"array")&&(a+="");return ia(i.format[x](i,
arguments),this)};h.image=function(a,b,c,e,g){return za(this,a||"about:blank",b||0,c||0,e||0,g||0)};h.text=function(a,b,c){return Aa(this,a||0,b||0,c||"")};h.set=function(a){arguments[p]>1&&(a=Array[q].splice.call(arguments,0,arguments[p]));return new pa(a)};h.setSize=Ba;U[q].scale=function(a,b,c,e){if(a==null&&b==null)return{x:this._.sx,y:this._.sy,toString:function(){return this.x+" "+this.y}};b=b||a;!+b&&(b=a);var g,f,l=this.attrs;if(a!=0){var m=this.getBBox();g=m.x+m.width/2;f=m.y+m.height/2;
var j=a/this._.sx,u=b/this._.sy;c=+c||c==0?c:g;e=+e||e==0?e:f;m=~~(a/Math.abs(a));var M=~~(b/Math.abs(b)),N=this.node.style;g=c+(g-c)*m*j;f=e+(f-e)*M*u;switch(this.type){case "rect":case "image":var R=l.width*m*j,Z=l.height*M*u,K=l.r*A(j,u);this.attr({width:R,height:Z,x:g-R/2,y:f-Z/2,r:K});break;case "circle":case "ellipse":this.attr({rx:l.rx*j,ry:l.ry*u,r:l.r*A(j,u),cx:g,cy:f});break;case "path":K=ga(l.path);for(var C=true,I=0,ba=K[p];I<ba;I++){var ca=K[I];if(!(ca[0].toUpperCase()=="M"&&C)){C=false;
if(i.svg&&ca[0].toUpperCase()=="A"){ca[K[I][p]-2]*=j;ca[K[I][p]-1]*=u;ca[1]*=j;ca[2]*=u;ca[5]=+(m+M?!!+ca[5]:!+ca[5])}else for(var na=1,sa=ca[p];na<sa;na++)ca[na]*=na%2?j:u}}j=O(K);g=g-j.x-j.width/2;f=f-j.y-j.height/2;K[0][1]+=g;K[0][2]+=f;this.attr({path:K})}if(this.type in{text:1,image:1}&&(m!=1||M!=1))if(this.transformations){this.transformations[2]="scale(".concat(m,",",M,")");this.node.setAttribute("transform",this.transformations[y](" "));g=m==-1?-l.x-(R||0):l.x;f=M==-1?-l.y-(Z||0):l.y;this.attr({x:g,
y:f});l.fx=m-1;l.fy=M-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11=".concat(m,", M12=0, M21=0, M22=",M,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");N.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[y](" "));l.fx=0;l.fy=0}else{this.node.filterMatrix="";N.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||
"")}l.scale=[a,b,c,e][y](" ");this._.sx=a;this._.sy=b}return this};i.easing_formulas={linear:function(a){return a},"<":function(a){return S(a,3)},">":function(a){return S(a-1,3)+1},"<>":function(a){a*=2;if(a<1)return S(a,3)/2;a-=2;return(S(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==0||a==1)return a;return S(2,-10*a)*Math.sin((a-0.075)*2*Math.PI/0.3)+1},bounce:function(a){if(a<1/2.75)a*=7.5625*a;
else if(a<2/2.75){a-=1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a-=2.25/2.75;a=7.5625*a*a+0.9375}else{a-=2.625/2.75;a=7.5625*a*a+0.984375}return a}};var ma={length:0},Da=function(){var a=+new Date,b;for(b in ma)if(b!="length"&&ma[v](b)){var c=ma[b];if(c.stop){delete ma[b];ma[p]--}else{var e=a-c.start,g=c.ms,f=c.easing,l=c.from,m=c.diff,j=c.to,u=c.t,M=c.prev||0,N=c.el,R=c.callback,Z={},K;if(e<g){f=i.easing_formulas[f]?i.easing_formulas[f](e/g):e/g;for(var C in l)if(l[v](C)){switch(L[C]){case "number":K=
+l[C]+f*g*m[C];break;case "colour":K="rgb("+[wa(t(l[C].r+f*g*m[C].r)),wa(t(l[C].g+f*g*m[C].g)),wa(t(l[C].b+f*g*m[C].b))][y](",")+")";break;case "path":K=[];R=0;for(var I=l[C][p];R<I;R++){K[R]=[l[C][R][0]];for(var ba=1,ca=l[C][R][p];ba<ca;ba++)K[R][ba]=+l[C][R][ba]+f*g*m[C][R][ba];K[R]=K[R][y](" ")}K=K[y](" ");break;case "csv":switch(C){case "translation":K=m[C][0]*(e-M);R=m[C][1]*(e-M);u.x+=K;u.y+=R;K=K+" "+R;break;case "rotation":K=+l[C][0]+f*g*m[C][0];l[C][1]&&(K+=","+l[C][1]+","+l[C][2]);break;
case "scale":K=[+l[C][0]+f*g*m[C][0],+l[C][1]+f*g*m[C][1],2 in j[C]?j[C][2]:"",3 in j[C]?j[C][3]:""][y](" ");break;case "clip-rect":K=[];for(R=4;R--;)K[R]=+l[C][R]+f*g*m[C][R]}}Z[C]=K}N.attr(Z);N._run&&N._run.call(N)}else{(u.x||u.y)&&N.translate(-u.x,-u.y);j.scale&&(j.scale+="");N.attr(j);i.is(R,"function")&&R.call(N);delete ma[b];ma[p]--;N.in_animation=null}c.prev=e}}i.svg&&h.safari();ma[p]&&setTimeout(Da)},wa=function(a){return a>255?255:a<0?0:a};U[q].animateWith=function(a,b,c,e,g){ma[a.id]&&(b.start=
ma[a.id].start);return this.animate(b,c,e,g)};U[q].onAnimation=function(a){this._run=a||null;return this};U[q].animate=function(a,b,c,e){if(i.is(c,"function")||!c)e=c||null;var g={},f={},l={},m;for(m in a)if(a[v](m))if(L[v](m)){g[m]=this.attr(m);g[m]==null&&(g[m]=F[m]);f[m]=a[m];switch(L[m]){case "number":l[m]=(f[m]-g[m])/b;break;case "colour":g[m]=i.getRGB(g[m]);var j=i.getRGB(f[m]);l[m]={r:(j.r-g[m].r)/b,g:(j.g-g[m].g)/b,b:(j.b-g[m].b)/b};break;case "path":j=fa(g[m],f[m]);g[m]=j[0];f[m]=j[1];l[m]=
[];j=0;for(var u=g[m][p];j<u;j++){l[m][j]=[0];for(var M=1,N=g[m][j][p];M<N;M++)l[m][j][M]=(f[m][j][M]-g[m][j][M])/b}break;case "csv":u=(a[m]+"").split(T);j=(g[m]+"").split(T);switch(m){case "translation":g[m]=[0,0];l[m]=[u[0]/b,u[1]/b];break;case "rotation":g[m]=j[1]==u[1]&&j[2]==u[2]?j:[0,u[1],u[2]];l[m]=[(u[0]-g[m][0])/b,0,0];break;case "scale":a[m]=u;g[m]=(g[m]+"").split(T);l[m]=[(u[0]-g[m][0])/b,(u[1]-g[m][1])/b,0,0];break;case "clip-rect":g[m]=(g[m]+"").split(T);l[m]=[];for(j=4;j--;)l[m][j]=
(u[j]-g[m][j])/b}f[m]=u}}this.stop();this.in_animation=1;ma[this.id]={start:a.start||+new Date,ms:b,easing:c,from:g,diff:l,to:f,el:this,callback:e,t:{x:0,y:0}};++ma[p]==1&&Da();return this};U[q].stop=function(){delete ma[this.id];delete this.in_animation;return this};U[q].translate=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+
this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=ga(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c})}return this};U[q].toString=function(){return"Rapha\u00ebl\u2019s object"};i.ae=ma;var pa=function(a){this.items=[];this[p]=0;if(a)for(var b=0,c=a[p];b<c;b++)if(a[b]&&(a[b].constructor==U||a[b].constructor==pa)){this[this.items[p]]=this.items[this.items[p]]=a[b];this[p]++}};pa[q][z]=function(){for(var a,b,c=0,e=arguments[p];c<e;c++)if((a=arguments[c])&&(a.constructor==U||a.constructor==
pa)){b=this.items[p];this[b]=this.items[b]=a;this[p]++}return this};pa[q].pop=function(){delete this[this[p]--];return this.items.pop()};for(var xa in U[q])if(U[q][v](xa))pa[q][xa]=function(a){return function(){for(var b=0,c=this.items[p];b<c;b++)this.items[b][a][x](this.items[b],arguments);return this}}(xa);pa[q].attr=function(a){if(a&&i.is(a,"array")&&i.is(a[0],"object"))for(var b=0,c=a[p];b<c;b++)this.items[b].attr(a[b]);else{b=0;for(c=this.items[p];b<c;b++)this.items[b].attr[x](this.items[b],
arguments)}return this};pa[q].animate=function(a,b,c,e){(i.is(c,"function")||!c)&&(e=c||null);var g=this.items[p],f=g,l=this,m;e&&(m=function(){!--g&&e.call(l)});for(this.items[--f].animate(a,b,c||m,m);f--;)this.items[f].animateWith(this.items[g-1],a,b,c||m,m);return this};pa[q].insertAfter=function(a){for(var b=this.items[p];b--;)this.items[b].insertAfter(a)};pa[q].getBBox=function(){for(var a=[],b=[],c=[],e=[],g=this.items[p];g--;){var f=this.items[g].getBBox();a[z](f.x);b[z](f.y);c[z](f.x+f.width);
e[z](f.y+f.height)}a=A[x](0,a);b=A[x](0,b);return{x:a,y:b,width:D[x](0,c)-a,height:D[x](0,e)-b}};i.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],e;for(e in a.face)if(a.face[v](e))b.face[e]=a.face[e];if(this.fonts[c])this.fonts[c][z](b);else this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=B(a.face["units-per-em"],10);for(var g in a.glyphs)if(a.glyphs[v](g)){c=a.glyphs[g];b.glyphs[g]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,
function(l){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[l]||"M"})+"z"};if(c.k)for(var f in c.k)if(c[v](f))b.glyphs[g].k[f]=c.k[f]}}return a};h.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;var g=i.fonts[a];if(!g){a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var f in i.fonts)if(i.fonts[v](f))if(a.test(f)){g=i.fonts[f];break}}var l;if(g){f=0;for(a=g[p];f<a;f++){l=g[f];if(l.face["font-weight"]==b&&(l.face["font-style"]==
c||!l.face["font-style"])&&l.face["font-stretch"]==e)break}}return l};h.print=function(a,b,c,e,g){var f=this.set();c=(c+"").split("");var l=0,m;i.is(e,"string")&&(e=this.getFont(e));if(e){m=(g||16)/e.face["units-per-em"];for(var j=0,u=c[p];j<u;j++){var M=j&&e.glyphs[c[j-1]]||{},N=e.glyphs[c[j]];l+=j?(M.w||e.w)+(M.k&&M.k[c[j]]||0):0;N&&N.d&&f[z](this.path(N.d).attr({fill:"#000",stroke:"none",translation:[l,0]}))}f.scale(m,m,0,b).translate(a,(g||16)/2)}return f};i.format=function(a){var b=i.is(arguments[1],
"array")?[0].concat(arguments[1]):arguments,c=/\{(\d+)\}/g;a&&i.is(a,"string")&&b[p]-1&&(a=a.replace(c,function(e,g){return b[++g]==null?"":b[g]}));return a||""};i.ninja=function(){var a=n.Raphael;if(k.was)n.Raphael=k.is;else try{delete n.Raphael}catch(b){n.Raphael=void 0}return a};i.el=U[q];return i}();
(function(){Raphael.fn.g=Raphael.fn.g||{};Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"};Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0};Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"};Raphael.fn.g.colors=[];for(var P=[0.6,0.2,0.05,0.1333,0.75,0],T=0;T<10;T++)T<P.length?
Raphael.fn.g.colors.push("hsb("+P[T]+", .75, .75)"):Raphael.fn.g.colors.push("hsb("+P[T-P.length]+", 1, .5)");Raphael.fn.g.text=function(o,n,k){return this.text(o,n,k).attr(this.g.txtattr)};Raphael.fn.g.labelise=function(o,n,k){return o?(o+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(i,h,s){if(h)return(+n).toFixed(h.replace(/^#+\.?/g,"").length);if(s)return(n*100/k).toFixed(s.replace(/^%+\.?/g,"").length)+"%"}):(+n).toFixed(0)};Raphael.fn.g.finger=function(o,n,k,i,h,s,v){if(h&&!i||!h&&!k)return v?
"":this.path();s={square:"square",sharp:"sharp",soft:"soft"}[s]||"round";var q;i=Math.round(i);k=Math.round(k);o=Math.round(o);n=Math.round(n);switch(s){case "round":if(h){h=Math.floor(k/2);q=i<h?["M",o-Math.floor(k/2),n,"l",0,0,"a",Math.floor(k/2),i,0,0,1,k,0,"l",0,0,"z"]:["M",o-h,n,"l",0,h-i,"a",h,h,0,1,1,k,0,"l",0,i-h,"z"]}else{h=Math.floor(i/2);q=k<h?["M",o+0.5,n+0.5-Math.floor(i/2),"l",0,0,"a",k,Math.floor(i/2),0,0,1,0,i,"l",0,0,"z"]:["M",o+0.5,n+0.5-h,"l",k-h,0,"a",h,h,0,1,1,0,i,"l",h-k,0,"z"]}break;
case "sharp":if(h){h=Math.floor(k/2);q=["M",o+h,n,"l",-k,0,0,-Math.max(i-h,0),h,-Math.min(h,i),h,Math.min(h,i),h,"z"]}else{h=Math.floor(i/2);q=["M",o,n+h,"l",0,-i,Math.max(k-h,0),0,Math.min(h,k),h,-Math.min(h,k),h+(h*2<i),"z"]}break;case "square":q=h?["M",o+Math.floor(k/2),n,"l",1-k,0,0,-i,k-1,0,"z"]:["M",o,n+Math.floor(i/2),"l",0,-i,k,0,0,i,"z"];break;case "soft":if(h){h=Math.min(Math.round(k/5),i);q=["M",o-Math.floor(k/2),n,"l",0,h-i,"a",h,h,0,0,1,h,-h,"l",k-2*h,0,"a",h,h,0,0,1,h,h,"l",0,i-h,"z"]}else{h=
Math.min(k,Math.round(i/5));q=["M",o+0.5,n+0.5-Math.floor(i/2),"l",k-h,0,"a",h,h,0,0,1,h,h,"l",0,i-h*2,"a",h,h,0,0,1,-h,h,"l",h-k,0,"z"]}}return v?q.join(","):this.path(q)};Raphael.fn.g.disc=function(o,n,k){return this.circle(o,n,k)};Raphael.fn.g.line=function(o,n,k){return this.rect(o-k,n-k/5,2*k,2*k/5)};Raphael.fn.g.square=function(o,n,k){k*=0.7;return this.rect(o-k,n-k,2*k,2*k)};Raphael.fn.g.triangle=function(o,n,k){k*=1.75;return this.path("M".concat(o,",",n,"m0-",k*0.58,"l",k*0.5,",",k*0.87,
"-",k,",0z"))};Raphael.fn.g.diamond=function(o,n,k){return this.path(["M",o,n-k,"l",k,k,-k,k,-k,-k,k,-k,"z"])};Raphael.fn.g.flower=function(o,n,k,i){k*=1.25;var h=k*0.5;i=+i<3||!i?5:i;for(var s=["M",o,n+h,"Q"],v,q=1;q<i*2+1;q++){v=q%2?k:h;s=s.concat([+(o+v*Math.sin(q*Math.PI/i)).toFixed(3),+(n+v*Math.cos(q*Math.PI/i)).toFixed(3)])}s.push("z");return this.path(s.join(","))};Raphael.fn.g.star=function(o,n,k,i){i=i||k*0.5;for(var h=["M",o,n+i,"L"],s,v=1;v<10;v++){s=v%2?k:i;h=h.concat([(o+s*Math.sin(v*
Math.PI*0.2)).toFixed(3),(n+s*Math.cos(v*Math.PI*0.2)).toFixed(3)])}h.push("z");return this.path(h.join(","))};Raphael.fn.g.cross=function(o,n,k){k/=2.5;return this.path("M".concat(o-k,",",n,"l",[-k,-k,k,-k,k,k,k,-k,k,k,-k,k,k,k,-k,k,-k,-k,-k,k,-k,-k,"z"]))};Raphael.fn.g.plus=function(o,n,k){k/=2;return this.path("M".concat(o-k/2,",",n-k/2,"l",[0,-k,k,0,0,k,k,0,0,k,-k,0,0,k,-k,0,0,-k,-k,0,0,-k,"z"]))};Raphael.fn.g.arrow=function(o,n,k){return this.path("M".concat(o-k*0.7,",",n-k*0.4,"l",[k*0.6,0,
0,-k*0.4,k,k*0.8,-k,k*0.8,0,-k*0.4,-k*0.6,0],"z"))};Raphael.fn.g.tag=function(o,n,k,i,h){i=i||0;h=h==null?5:h;k=k==null?"$9.99":k;var s=0.5522*h,v=this.set();v.push(this.path().attr({fill:"#000",stroke:"none"}));v.push(this.text(o,n,k).attr(this.g.txtattr).attr({fill:"#fff"}));v.update=function(){this.rotate(0,o,n);var q=this[1].getBBox();if(q.height>=h*2)this[0].attr({path:["M",o,n+h,"a",h,h,0,1,1,0,-h*2,h,h,0,1,1,0,h*2,"m",0,-h*2-3,"a",h+3,h+3,0,1,0,0,(h+3)*2,"L",o+h+3,n+q.height/2+3,"l",q.width+
6,0,0,-q.height-6,-q.width-6,0,"L",o,n-h-3].join(",")});else{var x=Math.sqrt(Math.pow(h+3,2)-Math.pow(q.height/2+3,2));this[0].attr({path:["M",o,n+h,"c",-s,0,-h,s-h,-h,-h,0,-s,h-s,-h,h,-h,s,0,h,h-s,h,h,0,s,s-h,h,-h,h,"M",o+x,n-q.height/2-3,"a",h+3,h+3,0,1,0,0,q.height+6,"l",h+3-x+q.width+6,0,0,-q.height-6,"L",o+x,n-q.height/2-3].join(",")})}this[1].attr({x:o+h+3+q.width/2,y:n});i=(360-i)%360;this.rotate(i,o,n);i>90&&i<270&&this[1].attr({x:o-h-3-q.width/2,y:n,rotation:[180+i,o,n]});return this};v.update();
return v};Raphael.fn.g.popupit=function(o,n,k,i,h){i=i==null?2:i;h=h||5;o=Math.round(o)+0.5;n=Math.round(n)+0.5;var s=k.getBBox(),v=Math.round(s.width/2),q=Math.round(s.height/2),x=["M",o-[0,v+h*2,0,-v-h*2][i],n-[-q*2-h*3,-q-h,0,-q-h][i],"l",-h,(i==2)*-h,-Math.max(v-h,0),0,"a",h,h,0,0,1,-h,-h,"l",0,-Math.max(q-h,0),(i==3)*-h,-h,(i==3)*h,-h,0,-Math.max(q-h,0),"a",h,h,0,0,1,h,-h,"l",Math.max(v-h,0),0,h,!i*-h,h,!i*h,Math.max(v-h,0),0,"a",h,h,0,0,1,h,h,"l",0,Math.max(q-h,0),(i==1)*h,h,(i==1)*-h,h,0,Math.max(q-
h,0),"a",h,h,0,0,1,-h,h,"l",-Math.max(v-h,0),0,"z"].join(",");o=[{x:o,y:n+h*2+q},{x:o-h*2-v,y:n},{x:o,y:n-h*2-q},{x:o+h*2+v,y:n}][i];k.translate(o.x-v-s.x,o.y-q-s.y);return this.path(x).attr({fill:"#000",stroke:"none"}).insertBefore(k.node?k:k[0])};Raphael.fn.g.popup=function(o,n,k,i,h){i=i==null?2:i;h=h||5;k=k||"$9.99";var s=this.set();s.push(this.path().attr({fill:"#000",stroke:"none"}));s.push(this.text(o,n,k).attr(this.g.txtattr).attr({fill:"#fff"}));s.update=function(v,q,x){v=v||o;q=q||n;var p=
this[1].getBBox(),y=p.width/2,z=p.height/2;p=["M",v-[0,y+h*2,0,-y-h*2][i],q-[-z*2-h*3,-z-h,0,-z-h][i],"l",-h,(i==2)*-h,-Math.max(y-h,0),0,"a",h,h,0,0,1,-h,-h,"l",0,-Math.max(z-h,0),(i==3)*-h,-h,(i==3)*h,-h,0,-Math.max(z-h,0),"a",h,h,0,0,1,h,-h,"l",Math.max(y-h,0),0,h,!i*-h,h,!i*h,Math.max(y-h,0),0,"a",h,h,0,0,1,h,h,"l",0,Math.max(z-h,0),(i==1)*h,h,(i==1)*-h,h,0,Math.max(z-h,0),"a",h,h,0,0,1,-h,h,"l",-Math.max(y-h,0),0,"z"].join(",");v=[{x:v,y:q+h*2+z},{x:v-h*2-y,y:q},{x:v,y:q-h*2-z},{x:v+h*2+y,y:q}][i];
if(x){this[0].animate({path:p},500,">");this[1].animate(v,500,">")}else{this[0].attr({path:p});this[1].attr(v)}return this};return s.update(o,n)};Raphael.fn.g.flag=function(o,n,k,i){i=i||0;k=k||"$9.99";var h=this.set();h.push(this.path().attr({fill:"#000",stroke:"none"}));h.push(this.text(o,n,k).attr(this.g.txtattr).attr({fill:"#fff"}));h.update=function(s,v){this.rotate(0,s,v);var q=this[1].getBBox(),x=q.height/2;this[0].attr({path:["M",s,v,"l",x+3,-x-3,q.width+6,0,0,q.height+6,-q.width-6,0,"z"].join(",")});
this[1].attr({x:s+x+3+q.width/2,y:v});i=360-i;this.rotate(i,s,v);i>90&&i<270&&this[1].attr({x:s-r-3-q.width/2,y:v,rotation:[180+i,s,v]});return this};return h.update(o,n)};Raphael.fn.g.label=function(o,n,k){var i=this.set();i.push(this.rect(o,n,10,10).attr({stroke:"none",fill:"#000"}));i.push(this.text(o,n,k).attr(this.g.txtattr).attr({fill:"#fff"}));i.update=function(){var h=this[1].getBBox(),s=Math.min(h.width+10,h.height+10)/2;this[0].attr({x:h.x-s/2,y:h.y-s/2,width:h.width+s,height:h.height+s,
r:s})};i.update();return i};Raphael.fn.g.labelit=function(o){var n=o.getBBox(),k=Math.min(20,n.width+10,n.height+10)/2;return this.rect(n.x-k/2,n.y-k/2,n.width+k,n.height+k,k).attr({stroke:"none",fill:"#000"}).insertBefore(o[0])};Raphael.fn.g.drop=function(o,n,k,i,h){i=i||30;h=h||0;var s=this.set();s.push(this.path(["M",o,n,"l",i,0,"A",i*0.4,i*0.4,0,1,0,o+i*0.7,n-i*0.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-h,o,n]}));h=(h+90)*Math.PI/180;s.push(this.text(o+i*Math.sin(h),n+i*Math.cos(h),
k).attr(this.g.txtattr).attr({"font-size":i*12/30,fill:"#fff"}));s.drop=s[0];s.text=s[1];return s};Raphael.fn.g.blob=function(o,n,k,i,h){i=(+i+1?i:45)+90;h=h||12;var s=Math.PI/180,v=h*12/12,q=this.set();q.push(this.path().attr({fill:"#000",stroke:"none"}));q.push(this.text(o+h*Math.sin(i*s),n+h*Math.cos(i*s)-v/2,k).attr(this.g.txtattr).attr({"font-size":v,fill:"#fff"}));q.update=function(x,p,y){x=x||o;p=p||n;var z=this[1].getBBox(),w=x+h*Math.sin((i-22.5)*s),B=p+h*Math.cos((i-22.5)*s);x+=h*Math.sin((i+
22.5)*s);p+=h*Math.cos((i+22.5)*s);var S=(x-w)/2,A=(p-B)/2,D=Math.max(z.width+v,h*25/12)/2;z=Math.max(z.height+v,h*25/12)/2;var t=-Math.sqrt(Math.abs(D*D*z*z-D*D*A*A-z*z*S*S)/(D*D*A*A+z*z*S*S));A=t*D*A/z+(x+w)/2;S=t*-z*S/D+(p+B)/2;y?this.animate({x:A,y:S,path:["M",o,n,"L",x,p,"A",D,z,0,1,1,w,B,"z"].join(",")},500,">"):this.attr({x:A,y:S,path:["M",o,n,"L",x,p,"A",D,z,0,1,1,w,B,"z"].join(",")});return this};q.update(o,n);return q};Raphael.fn.g.colorValue=function(o,n,k,i){return"hsb("+[Math.min((1-
o/n)*0.4,1),k||0.75,i||0.75]+")"};Raphael.fn.g.snapEnds=function(o,n,k){function i(q){return Math.abs(q-0.5)<0.25?Math.floor(q)+0.5:Math.round(q)}var h=o,s=n;if(h==s)return{from:h,to:s,power:0};h=(s-h)/k;var v=s=Math.floor(h);k=0;if(s){for(;v;){k--;v=Math.floor(h*Math.pow(10,k))/Math.pow(10,k)}k++}else{for(;!s;){k=k||1;s=Math.floor(h*Math.pow(10,k))/Math.pow(10,k);k++}k&&k--}s=i(n*Math.pow(10,k))/Math.pow(10,k);if(s<n)s=i((n+0.5)*Math.pow(10,k))/Math.pow(10,k);h=i((o-(k>0?0:0.5))*Math.pow(10,k))/
Math.pow(10,k);return{from:h,to:s,power:k}};Raphael.fn.g.axis=function(o,n,k,i,h,s,v,q,x,p){p=p==null?2:p;x=x||"t";s=s||10;var y=x=="|"||x==" "?["M",o+0.5,n,"l",0,0.0010]:v==1||v==3?["M",o+0.5,n,"l",0,-k]:["M",o,n+0.5,"l",k,0];i=this.g.snapEnds(i,h,s);var z=i.from,w=i.to,B=i.power;h=0;i=this.set();d=(w-z)/s;w=z;var S=B>0?B:0;D=k/s;if(+v==1||+v==3){s=n;for(z=(v-1?1:-1)*(p+3+!!(v-1));s>=n-k;){x!="-"&&x!=" "&&(y=y.concat(["M",o-(x=="+"||x=="|"?p:!(v-1)*p*2),s+0.5,"l",p*2+1,0]));i.push(this.text(o+z,
s,q&&q[h++]||(Math.round(w)==w?w:+w.toFixed(S))).attr(this.g.txtattr).attr({"text-anchor":v-1?"start":"end"}));w+=d;s-=D}if(Math.round(s+D-(n-k))){x!="-"&&x!=" "&&(y=y.concat(["M",o-(x=="+"||x=="|"?p:!(v-1)*p*2),n-k+0.5,"l",p*2+1,0]));i.push(this.text(o+z,n-k,q&&q[h]||(Math.round(w)==w?w:+w.toFixed(S))).attr(this.g.txtattr).attr({"text-anchor":v-1?"start":"end"}))}}else{var A=o;w=z;S=B>0?B:0;z=(v?-1:1)*(p+9+!v);var D=k/s;for(s=B=0;A<=o+k;){x!="-"&&x!=" "&&(y=y.concat(["M",A+0.5,n-(x=="+"?p:!!v*p*
2),"l",0,p*2+1]));i.push(B=this.text(A,n+z,q&&q[h++]||(Math.round(w)==w?w:+w.toFixed(S))).attr(this.g.txtattr));B=B.getBBox();if(s>=B.x-5)i.pop(i.length-1).remove();else s=B.x+B.width;w+=d;A+=D}if(Math.round(A-D-o-k)){x!="-"&&x!=" "&&(y=y.concat(["M",o+k+0.5,n-(x=="+"?p:!!v*p*2),"l",0,p*2+1]));i.push(this.text(o+k,n+z,q&&q[h]||(Math.round(w)==w?w:+w.toFixed(S))).attr(this.g.txtattr))}}o=this.path(y);o.text=i;o.all=this.set([o,i]);o.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};
return o};Raphael.el.lighter=function(o){o=o||2;var n=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[n[0],n[1]];n[0]=Raphael.rgb2hsb(Raphael.getRGB(n[0]).hex);n[1]=Raphael.rgb2hsb(Raphael.getRGB(n[1]).hex);n[0].b=Math.min(n[0].b*o,1);n[0].s/=o;n[1].b=Math.min(n[1].b*o,1);n[1].s/=o;this.attr({fill:"hsb("+[n[0].h,n[0].s,n[0].b]+")",stroke:"hsb("+[n[1].h,n[1].s,n[1].b]+")"})};Raphael.el.darker=function(o){o=o||2;var n=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[n[0],n[1]];n[0]=Raphael.rgb2hsb(Raphael.getRGB(n[0]).hex);
n[1]=Raphael.rgb2hsb(Raphael.getRGB(n[1]).hex);n[0].s=Math.min(n[0].s*o,1);n[0].b/=o;n[1].s=Math.min(n[1].s*o,1);n[1].b/=o;this.attr({fill:"hsb("+[n[0].h,n[0].s,n[0].b]+")",stroke:"hsb("+[n[1].h,n[1].s,n[1].b]+")"})};Raphael.el.original=function(){if(this.fs){this.attr({fill:this.fs[0],stroke:this.fs[1]});delete this.fs}}})();
Raphael.fn.g.piechart=function(P,T,o,n,k){k=k||{};var i=this,h=[],s=this.set(),v=this.set(),q=this.set(),x=n.length,p=0,y=0,z=0,w=9,B=true;v.covers=s;if(x==1){q.push(this.circle(P,T,o).attr({fill:this.g.colors[0],stroke:k.stroke||"#fff","stroke-width":k.strokewidth==null?1:k.strokewidth}));s.push(this.circle(P,T,o).attr(this.g.shim));y=n[0];n[0]={value:n[0],order:0,valueOf:function(){return this.value}};q[0].middle={x:P,y:T};q[0].mangle=180}else{for(var S=function(t,E,H,F,L){var J=Math.PI/180,O=["M",
t,E,"L",t+H*Math.cos(-F*J),E+H*Math.sin(-F*J),"A",H,H,0,+(Math.abs(L-F)>180),1,t+H*Math.cos(-L*J),E+H*Math.sin(-L*J),"z"];O.middle={x:t+H/2*Math.cos(-(F+(L-F)/2)*J),y:E+H/2*Math.sin(-(F+(L-F)/2)*J)};return O},A=0;A<x;A++){y+=n[A];n[A]={value:n[A],order:A,valueOf:function(){return this.value}}}n.sort(function(t,E){return E.value-t.value});for(A=0;A<x;A++){if(B&&n[A]*360/y<=1.5){w=A;B=false}if(A>w){B=false;n[w].value+=n[A];n[w].others=true;z=n[w].value}}x=Math.min(w+1,n.length);z&&n.splice(x)&&(n[w].others=
true);for(A=0;A<x;A++){z=p-360*n[A]/y/2;if(!A){p=90-z;z=p-360*n[A]/y/2}if(k.init)var D=S(P,T,1,p,p-360*n[A]/y).join(",");w=S(P,T,o,p,p-=360*n[A]/y);B=this.path(k.init?D:w).attr({fill:k.colors&&k.colors[A]||this.g.colors[A]||"#666",stroke:k.stroke||"#fff","stroke-width":k.strokewidth==null?1:k.strokewidth,"stroke-linejoin":"round"});B.value=n[A];B.middle=w.middle;B.mangle=z;h.push(B);q.push(B);k.init&&B.animate({path:w.join(",")},+k.init-1||1E3,">")}for(A=0;A<x;A++){B=i.path(h[A].attr("path")).attr(this.g.shim);
k.href&&k.href[A]&&B.attr({href:k.href[A]});B.attr=function(){};s.push(B);q.push(B)}}v.hover=function(t,E){E=E||function(){};for(var H=this,F=0;F<x;F++)(function(L,J,O){var da={sector:L,cover:J,cx:P,cy:T,mx:L.middle.x,my:L.middle.y,mangle:L.mangle,r:o,value:n[O],total:y,label:H.labels&&H.labels[O]};J.mouseover(function(){t.call(da)}).mouseout(function(){E.call(da)})})(q[F],s[F],F);return this};v.each=function(t){for(var E=this,H=0;H<x;H++)(function(F,L,J){t.call({sector:F,cover:L,cx:P,cy:T,x:F.middle.x,
y:F.middle.y,mangle:F.mangle,r:o,value:n[J],total:y,label:E.labels&&E.labels[J]})})(q[H],s[H],H);return this};v.click=function(t){for(var E=this,H=0;H<x;H++)(function(F,L,J){var O={sector:F,cover:L,cx:P,cy:T,mx:F.middle.x,my:F.middle.y,mangle:F.mangle,r:o,value:n[J],total:y,label:E.labels&&E.labels[J]};L.click(function(){t.call(O)})})(q[H],s[H],H);return this};v.inject=function(t){t.insertBefore(s[0])};k.legend&&function(t,E,H,F){var L=P+o+o/5,J=T+10;t=t||[];F=F&&F.toLowerCase&&F.toLowerCase()||"east";
H=i.g.markers[H&&H.toLowerCase()]||"disc";v.labels=i.set();for(var O=0;O<x;O++){var da=q[O].attr("fill"),ga=n[O].order;n[O].others&&(t[ga]=E||"Others");t[ga]=i.g.labelise(t[ga],n[O],y);v.labels.push(i.set());v.labels[O].push(i.g[H](L+5,J,5).attr({fill:da,stroke:"none"}));v.labels[O].push(da=i.text(L+20,J,t[ga]||n[ga]).attr(i.g.txtattr).attr({fill:k.legendcolor||"#000","text-anchor":"start"}));s[O].label=v.labels[O];J+=da.getBBox().height*1.2}t=v.labels.getBBox();v.labels.translate.apply(v.labels,
{east:[0,-t.height/2],west:[-t.width-2*o-20,-t.height/2],north:[-o-t.width/2,-o-t.height-10],south:[-o-t.width/2,o+10]}[F]);v.push(v.labels)}(k.legend,k.legendothers,k.legendmark,k.legendpos);v.push(q,s);v.series=q;v.covers=s;return v};
Raphael.fn.g.barchart=function(P,T,o,n,k,i){i=i||{};var h={round:"round",sharp:"sharp",soft:"soft"}[i.type]||"square",s=parseFloat(i.gutter||"20%"),v=this.set(),q=this.set(),x=this.set(),p=this.set(),y=Math.max.apply(Math,k),z=[],w=this,B=0,S=i.colors||this.g.colors,A=k.length;if(this.raphael.is(k[0],"array")){y=[];B=A;A=0;for(var D=k.length;D--;){q.push(this.set());y.push(Math.max.apply(Math,k[D]));A=Math.max(A,k[D].length)}if(i.stacked)for(D=A;D--;){for(var t=0,E=k.length;E--;)t+=+k[E][D]||0;z.push(t)}for(D=
k.length;D--;)if(k[D].length<A)for(E=A;E--;)k[D].push(0);y=Math.max.apply(Math,i.stacked?z:y)}y=i.to||y;o=o/(A*(100+s)+s)*100;s=o*s/100;var H=i.vgutter==null?20:i.vgutter;z=[];t=P+s;var F=(n-2*H)/y;if(!i.stretch){s=Math.round(s);o=Math.floor(o)}!i.stacked&&(o/=B||1);for(D=0;D<A;D++){z=[];for(E=0;E<(B||1);E++){var L=Math.round((B?k[E][D]:k[D])*F),J=T+n-H-L,O=this.g.finger(Math.round(t+o/2),J+L,o,L,true,h).attr({stroke:S[B?E:D],fill:S[B?E:D]});B?q[E].push(O):q.push(O);O.y=J;O.x=Math.round(t+o/2);O.w=
o;O.h=L;O.value=B?k[E][D]:k[D];if(i.stacked)z.push(O);else t+=o}if(i.stacked){p.push(E=this.rect(z[0].x-z[0].w/2,T,o,n).attr(this.g.shim));E.bars=this.set();J=0;for(var da=z.length;da--;)z[da].toFront();da=0;for(var ga=z.length;da<ga;da++){O=z[da];L=(J+O.value)*F;var aa=this.g.finger(O.x,T+n-H-!!J*0.5,o,L,true,h,1);E.bars.push(O);J&&O.attr({path:aa});O.h=L;O.y=T+n-H-!!J*0.5-L;x.push(L=this.rect(O.x-O.w/2,O.y,o,O.value*F).attr(this.g.shim));L.bar=O;L.value=O.value;J+=O.value}t+=o}t+=s}p.toFront();
t=P+s;if(!i.stacked)for(D=0;D<A;D++){for(E=0;E<(B||1);E++){x.push(L=this.rect(Math.round(t),T+H,o,n-H).attr(this.g.shim));L.bar=B?q[E][D]:q[D];L.value=L.bar.value;t+=o}t+=s}v.label=function(Q,W){Q=Q||[];this.labels=w.set();var X,ka=-Infinity;if(i.stacked)for(var fa=0;fa<A;fa++)for(var ra=0,V=0;V<(B||1);V++){ra+=B?k[V][fa]:k[fa];if(V==B-1){X=w.g.labelise(Q[fa],ra,y);X=w.g.text(q[fa*(B||1)+V].x,T+n-H/2,X).insertBefore(x[fa*(B||1)+V]);var $=X.getBBox();if($.x-7<ka)X.remove();else{this.labels.push(X);
ka=$.x+$.width}}}else for(fa=0;fa<A;fa++)for(V=0;V<(B||1);V++){X=w.g.labelise(B?Q[V]&&Q[V][fa]:Q[fa],B?k[V][fa]:k[fa],y);X=w.g.text(q[fa*(B||1)+V].x,W?T+n-H/2:q[fa*(B||1)+V].y-10,X).insertBefore(x[fa*(B||1)+V]);$=X.getBBox();if($.x-7<ka)X.remove();else{this.labels.push(X);ka=$.x+$.width}}return this};v.hover=function(Q,W){p.hide();x.show();x.mouseover(Q).mouseout(W);return this};v.hoverColumn=function(Q,W){x.hide();p.show();p.mouseover(Q).mouseout(W||function(){});return this};v.click=function(Q){p.hide();
x.show();x.click(Q);return this};v.each=function(Q){if(!Raphael.is(Q,"function"))return this;for(var W=x.length;W--;)Q.call(x[W]);return this};v.eachColumn=function(Q){if(!Raphael.is(Q,"function"))return this;for(var W=p.length;W--;)Q.call(p[W]);return this};v.clickColumn=function(Q){x.hide();p.show();p.click(Q);return this};v.push(q,x,p);v.bars=q;v.covers=x;return v};
Raphael.fn.g.hbarchart=function(P,T,o,n,k,i){i=i||{};var h={round:"round",sharp:"sharp",soft:"soft"}[i.type]||"square",s=parseFloat(i.gutter||"20%"),v=this.set(),q=this.set(),x=this.set(),p=this.set(),y=Math.max.apply(Math,k),z=[],w=this,B=0,S=i.colors||this.g.colors,A=k.length;if(this.raphael.is(k[0],"array")){y=[];B=A;A=0;for(var D=k.length;D--;){q.push(this.set());y.push(Math.max.apply(Math,k[D]));A=Math.max(A,k[D].length)}if(i.stacked)for(D=A;D--;){for(var t=0,E=k.length;E--;)t+=+k[E][D]||0;z.push(t)}for(D=
k.length;D--;)if(k[D].length<A)for(E=A;E--;)k[D].push(0);y=Math.max.apply(Math,i.stacked?z:y)}y=i.to||y;var H=Math.floor(n/(A*(100+s)+s)*100);n=Math.floor(H*s/100);s=[];z=T+n;t=(o-1)/y;!i.stacked&&(H/=B||1);for(D=0;D<A;D++){s=[];for(E=0;E<(B||1);E++){var F=B?k[E][D]:k[D],L=this.g.finger(P,z+H/2,Math.round(F*t),H-1,false,h).attr({stroke:S[B?E:D],fill:S[B?E:D]});B?q[E].push(L):q.push(L);L.x=P+Math.round(F*t);L.y=z+H/2;L.w=Math.round(F*t);L.h=H;L.value=+F;if(i.stacked)s.push(L);else z+=H}if(i.stacked){E=
this.rect(P,s[0].y-s[0].h/2,o,H).attr(this.g.shim);p.push(E);E.bars=this.set();for(var J=0,O=s.length;O--;)s[O].toFront();O=0;for(var da=s.length;O<da;O++){L=s[O];F=Math.round((J+L.value)*t);var ga=this.g.finger(P,L.y,F,H-1,false,h,1);E.bars.push(L);J&&L.attr({path:ga});L.w=F;L.x=P+F;x.push(F=this.rect(P+J*t,L.y-L.h/2,L.value*t,H).attr(this.g.shim));F.bar=L;J+=L.value}z+=H}z+=n}p.toFront();z=T+n;if(!i.stacked)for(D=0;D<A;D++){for(E=0;E<B;E++){F=this.rect(P,z,o,H).attr(this.g.shim);x.push(F);F.bar=
q[E][D];z+=H}z+=n}v.label=function(aa,Q){aa=aa||[];this.labels=w.set();for(var W=0;W<A;W++)for(var X=0;X<B;X++){var ka=w.g.labelise(B?aa[X]&&aa[X][W]:aa[W],B?k[X][W]:k[W],y),fa=Q?"end":"start";this.labels.push(ka=w.g.text(Q?q[W*(B||1)+X].x-H/2+3:P+5,q[W*(B||1)+X].y,ka).attr({"text-anchor":fa}).insertBefore(x[0]));if(ka.getBBox().x<P+5)ka.attr({x:P+5,"text-anchor":"start"});else q[W*(B||1)+X].label=ka}return this};v.hover=function(aa,Q){p.hide();x.show();x.mouseover(aa).mouseout(Q||function(){});return this};
v.hoverColumn=function(aa,Q){x.hide();p.show();p.mouseover(aa).mouseout(Q||function(){});return this};v.each=function(aa){if(!Raphael.is(aa,"function"))return this;for(var Q=x.length;Q--;)aa.call(x[Q]);return this};v.eachColumn=function(aa){if(!Raphael.is(aa,"function"))return this;for(var Q=p.length;Q--;)aa.call(p[Q]);return this};v.click=function(aa){p.hide();x.show();x.click(aa);return this};v.clickColumn=function(aa){x.hide();p.show();p.click(aa);return this};v.push(q,x,p);v.bars=q;v.covers=x;
return v};
Raphael.fn.g.dotchart=function(P,T,o,n,k,i,h,s){function v(W){+W[0]&&(W[0]=H.g.axis(P+y,T+y,o-2*y,x,p,s.axisxstep||Math.floor((o-2*y)/20),2,s.axisxlabels||null,s.axisxtype||"t"));+W[1]&&(W[1]=H.g.axis(P+o-y,T+n-y,n-2*y,z,w,s.axisystep||Math.floor((n-2*y)/20),3,s.axisylabels||null,s.axisytype||"t"));+W[2]&&(W[2]=H.g.axis(P+y,T+n-y+L,o-2*y,x,p,s.axisxstep||Math.floor((o-2*y)/20),0,s.axisxlabels||null,s.axisxtype||"t"));+W[3]&&(W[3]=H.g.axis(P+y-L,T+n-y,n-2*y,z,w,s.axisystep||Math.floor((n-2*y)/20),
1,s.axisylabels||null,s.axisytype||"t"))}s=s||{};var q=this.g.snapEnds(Math.min.apply(Math,k),Math.max.apply(Math,k),k.length-1),x=q.from,p=q.to,y=s.gutter||10;q=this.g.snapEnds(Math.min.apply(Math,i),Math.max.apply(Math,i),i.length-1);var z=q.from,w=q.to,B=Math.max(k.length,i.length,h.length);q=this.g.markers[s.symbol]||"disc";var S=this.set(),A=this.set(),D=s.max||100,t=Math.max.apply(Math,h),E=[],H=this,F=Math.sqrt(t/Math.PI)*2/D;for(t=0;t<B;t++)E[t]=Math.min(Math.sqrt(h[t]/Math.PI)*2/F,D);y=Math.max.apply(Math,
E.concat(y));B=this.set();var L=Math.max.apply(Math,E);if(s.axis){var J=(s.axis+"").split(/[,\s]+/);v(J);var O=[];t=0;for(F=J.length;t<F;t++){var da=J[t].all?J[t].all.getBBox()[["height","width"][t%2]]:0;O[t]=da+y}y=Math.max.apply(Math,O.concat(y));t=0;for(F=J.length;t<F;t++)if(J[t].all){J[t].remove();J[t]=1}v(J);t=0;for(F=J.length;t<F;t++)J[t].all&&B.push(J[t].all);S.axis=B}J=(o-y*2)/(p-x||1);O=(n-y*2)/(w-z||1);t=0;for(F=i.length;t<F;t++){da=this.raphael.is(q,"array")?q[t]:q;var ga=P+y+(k[t]-x)*
J,aa=T+n-y-(i[t]-z)*O;da&&E[t]&&A.push(this.g[da](ga,aa,E[t]).attr({fill:s.heat?this.g.colorValue(E[t],L):Raphael.fn.g.colors[0],"fill-opacity":s.opacity?E[t]/D:1,stroke:"none"}))}var Q=this.set();t=0;for(F=i.length;t<F;t++){ga=P+y+(k[t]-x)*J;aa=T+n-y-(i[t]-z)*O;Q.push(this.circle(ga,aa,L).attr(this.g.shim));s.href&&s.href[t]&&Q[t].attr({href:s.href[t]});Q[t].r=+E[t].toFixed(3);Q[t].x=+ga.toFixed(3);Q[t].y=+aa.toFixed(3);Q[t].X=k[t];Q[t].Y=i[t];Q[t].value=h[t]||0;Q[t].dot=A[t]}S.covers=Q;S.series=
A;S.push(A,B,Q);S.hover=function(W,X){Q.mouseover(W).mouseout(X);return this};S.click=function(W){Q.click(W);return this};S.each=function(W){if(!Raphael.is(W,"function"))return this;for(var X=Q.length;X--;)W.call(Q[X]);return this};S.href=function(W){for(var X,ka=Q.length;ka--;){X=Q[ka];X.X==W.x&&X.Y==W.y&&X.value==W.value&&X.attr({href:W.href})}};return S};
Raphael.fn.g.linechart=function(P,T,o,n,k,i,h){function s(V,$){for(var Y=V.length/$,G=0,ia=Y,ea=0,oa=[];G<V.length;){ia--;if(ia<0){ea+=V[G]*(1+ia);oa.push(ea/Y);ea=V[G++]*-ia;ia+=Y}else ea+=V[G++]}return oa}function v(V){for(var $=[],Y=0,G=k.length;Y<G;Y++)$=$.concat(k[Y]);$.sort();var ia=[],ea=[];Y=0;for(G=$.length;Y<G;Y++)$[Y]!=$[Y-1]&&ia.push($[Y])&&ea.push(P+w+($[Y]-y)*B);$=ia;G=$.length;var oa=V||t.set();for(Y=0;Y<G;Y++){ia=ea[Y]-(ea[Y]-(ea[Y-1]||P))/2;var ha=((ea[Y+1]||P+o)-ea[Y])/2+(ea[Y]-
(ea[Y-1]||P))/2,la;V?la={}:oa.push(la=t.rect(ia-1,T,Math.max(ha+1,1),n).attr({stroke:"none",fill:"#000",opacity:0}));la.values=[];la.symbols=t.set();la.y=[];la.x=ea[Y];la.axis=$[Y];ha=0;for(var U=i.length;ha<U;ha++){ia=k[ha]||k[0];for(var qa=0,ua=ia.length;qa<ua;qa++)if(ia[qa]==$[Y]){la.values.push(i[ha][qa]);la.y.push(T+n-w-(i[ha][qa]-S)*D);la.symbols.push(F.symbols[ha][qa])}}V&&V.call(la)}!V&&(E=oa)}function q(V){for(var $=V||t.set(),Y,G=0,ia=i.length;G<ia;G++)for(var ea=0,oa=i[G].length;ea<oa;ea++){var ha=
P+w+((k[G]||k[0])[ea]-y)*B,la=P+w+((k[G]||k[0])[ea?ea-1:1]-y)*B,U=T+n-w-(i[G][ea]-S)*D;V?Y={}:$.push(Y=t.circle(ha,U,Math.abs(la-ha)/2).attr({stroke:"none",fill:"#000",opacity:0}));Y.x=ha;Y.y=U;Y.value=i[G][ea];Y.line=F.lines[G];Y.shade=F.shades[G];Y.symbol=F.symbols[G][ea];Y.symbols=F.symbols[G];Y.axis=(k[G]||k[0])[ea];V&&V.call(Y)}!V&&(H=$)}h=h||{};this.raphael.is(k[0],"array")||(k=[k]);this.raphael.is(i[0],"array")||(i=[i]);var x=Array.prototype.concat.apply([],k),p=Array.prototype.concat.apply([],
i);x=this.g.snapEnds(Math.min.apply(Math,x),Math.max.apply(Math,x),k[0].length-1);var y=x.from,z=x.to,w=h.gutter||10,B=(o-w*2)/(z-y);p=this.g.snapEnds(Math.min.apply(Math,p),Math.max.apply(Math,p),i[0].length-1);var S=p.from,A=p.to,D=(n-w*2)/(A-S);p=h.symbol||"";x=h.colors||Raphael.fn.g.colors;for(var t=this,E=null,H=null,F=this.set(),L=[],J=0,O=i.length;J<O;J++);var da=this.set();J=0;for(O=i.length;J<O;J++){if(h.shade)da.push(this.path().attr({stroke:"none",fill:x[J],opacity:h.nostroke?1:0.3}));
if(i[J].length>o-2*w)i[J]=s(i[J],o-2*w);if(k[J]&&k[J].length>o-2*w)k[J]=s(k[J],o-2*w)}var ga=this.set();if(h.axis){L=(h.axis+"").split(/[,\s]+/);+L[0]&&ga.push(this.g.axis(P+w,T+w,o-2*w,y,z,h.axisxstep||Math.floor((o-2*w)/20),2));+L[1]&&ga.push(this.g.axis(P+o-w,T+n-w,n-2*w,S,A,h.axisystep||Math.floor((n-2*w)/20),3));+L[2]&&ga.push(this.g.axis(P+w,T+n-w,o-2*w,y,z,h.axisxstep||Math.floor((o-2*w)/20),0));+L[3]&&ga.push(this.g.axis(P+w,T+n-w,n-2*w,S,A,h.axisystep||Math.floor((n-2*w)/20),1))}z=this.set();
A=this.set();var aa;J=0;for(O=i.length;J<O;J++){h.nostroke||z.push(aa=this.path().attr({stroke:x[J],"stroke-width":h.width||2,"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":h.dash||""}));var Q=this.raphael.is(p,"array")?p[J]:p,W=this.set();L=[];for(var X=0,ka=i[J].length;X<ka;X++){var fa=P+w+((k[J]||k[0])[X]-y)*B,ra=T+n-w-(i[J][X]-S)*D;(Raphael.is(Q,"array")?Q[X]:Q)&&W.push(this.g[Raphael.fn.g.markers[this.raphael.is(Q,"array")?Q[X]:Q]](fa,ra,(h.width||2)*3).attr({fill:x[J],
stroke:"none"}));L=L.concat([X?"L":"M",fa,ra])}A.push(W);if(h.shade)da[J].attr({path:L.concat(["L",fa,T+n-w,"L",P+w+((k[J]||k[0])[0]-y)*B,T+n-w,"z"]).join(",")});!h.nostroke&&aa.attr({path:L.join(",")})}F.push(z,da,A,ga,E,H);F.lines=z;F.shades=da;F.symbols=A;F.axis=ga;F.hoverColumn=function(V,$){!E&&v();E.mouseover(V).mouseout($);return this};F.clickColumn=function(V){!E&&v();E.click(V);return this};F.hrefColumn=function(V){var $=t.raphael.is(arguments[0],"array")?arguments[0]:arguments;if(!(arguments.length-
1)&&typeof V=="object")for(var Y in V)for(var G=0,ia=E.length;G<ia;G++)E[G].axis==Y&&E[G].attr("href",V[Y]);!E&&v();G=0;for(ia=$.length;G<ia;G++)E[G]&&E[G].attr("href",$[G]);return this};F.hover=function(V,$){!H&&q();H.mouseover(V).mouseout($);return this};F.click=function(V){!H&&q();H.click(V);return this};F.each=function(V){q(V);return this};F.eachColumn=function(V){v(V);return this};return F};
