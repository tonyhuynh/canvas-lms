(function(){function m(){var a=$("#add_assignment_form"),b=a.parents(".group_assignment"),c=b.parents(".assignment_group");a.find("").end().hide().appendTo($("body"));b.removeClass("editing");b.find(".content").show();b.attr("id")=="assignment_new"?b.remove():b.find(":tabbable:first").focus();c.find(".group_assignment").length===0&&c.find(".padding").show()}function h(){var a=$(".group_assignment:visible").length,b=$(".assignment_group:visible").length;$(".assignment_count").text(a);$(".assignment_count_text").text(a==
1?"Assignment":"Assignments");$(".assignment_group_count").text(b);$(".assignment_group_count_text").text(b==1?"Group":"Groups")}function r(a){m();a.find(".content").hide().before($("#add_assignment_form").show());a.addClass("editing");var b=a.parents(".assignment_group"),c=b.getTemplateData({textValues:["default_assignment_name","assignment_group_id"]}),d=c.default_assignment_name;d+=" "+b.find(".group_assignment").length;b=a.find("#add_assignment_form");var e="Update",f=a.find(".edit_assignment_link").attr("href");
if(a.attr("id")=="assignment_new"){e="Add";f=$(".add_assignment_link.groupless_link:first").attr("href")}a.find(".more_options_link").attr("href",f);b.find("input[type='submit']").val(e);e=a.getTemplateData({textValues:["title","points_possible","due_date_string","due_time_string","assignment_group_id","submission_types"]});e.title=e.title||d;if(e.submission_types!="online_quiz"&&e.submission_types!="discussion_topic"){b.find(".assignment_submission_types .current_submission_types").val(e.submission_types);
b.find(".assignment_submission_types").val(e.submission_types)}e.assignment_group_id=c.assignment_group_id;e.due_time=e.due_time_string;e.due_date=e.due_date_string;c=Date.parse(e.due_date_string+" "+e.due_time_string);e.due_at="";if(c)e.due_at=c.toString($.datetime.defaultFormat);if(a.attr("id")=="assignment_new"){if(q){b.find(".date_options").show();b.find(".show_date_link").hide()}else{b.find(".date_options").hide();b.find(".show_date_link").show()}b.attr("action",$("#add_assignment .assignments_url").attr("href")).attr("method",
"POST")}else{if(e.due_time&&e.due_date){b.find(".date_options").show();b.find(".show_date_link").hide()}else{b.find(".date_options").hide();b.find(".show_date_link").show()}b.attr("action",a.find(".title").attr("href")).attr("method","PUT")}b.fillFormData(e,{object_name:"assignment"});b.find(":text:first").focus().select();$("html,body").scrollTo(a)}function n(){var a=$("#add_group_form"),b=a.parents(".assignment_group").find(".header");a.find("input[name='name']").val("").change().end().find(".form_rules").empty().end().hide().appendTo($("body"));
b.find(".hide_info_link").click();b.find(".header_content, .edit_group_link, .delete_group_link").show();b.parents(".assignment_group").attr("id")=="group_new"?b.parents(".assignment_group").remove():b.find(".group_name").focus()}function s(a){n();var b=a.getTemplateData({textValues:["name","assignment_group_id","group_weight","assignment_weighting_scheme","rules"]}),c=$("#add_group_form");c.find(".form_rules").empty();var d=(b.rules||"").split("\n"),e=c.find("#assignment_group_rule_blank .assignment_to_never_drop");
e.empty();if(a.find(".group_assignment").length>0){var f=$(document.createElement("option"));f.val("0").text("[Select Assignment]");e.append(f);a.find(".group_assignment").each(function(){f=$(document.createElement("option"));var g=$(this).getTemplateData({textValues:["id","title"]});f.val(g.id).text(g.title);e.append(f)})}else{f=$(document.createElement("option"));f.val("0").text("[No Assignments]");e.append(f)}e.val("0");$.each(d,function(g,i){var o=i.split(":");if(o.length==2){var j=c.find("#assignment_group_rule_blank").clone(true);
j.attr("id","");c.find(".form_rules").append(j.show());j.find("select[name='rule_type']").val(o[0]).change();if(o[0]=="never_drop"){j.find("input[name='scores_to_drop']").val("");j.find("select[name='assignment_to_never_drop']").val(o[1])}else{j.find("input[name='scores_to_drop']").val(o[1]);j.find("select[name='assignment_to_never_drop']").val("0")}}});e=c.find(".assignment_to_never_drop");a.find(".header_content").hide().before(c.show());$("#class_weighting_policy").attr("checked")?a.find("#add_group_form .percent_weighting").show().end().find("#add_group_form .weighting").hide():
a.find(".percent_weighting").hide().end().find(".weighting").hide();c.fillFormData(b,{object_name:"assignment_group"});a.attr("id")=="group_new"?c.attr("action",$("#add_group .assignment_groups_url").attr("href")).attr("method","POST"):c.attr("action",a.find(".assignment_group_url").attr("href")).attr("method","PUT");c.find(":text:first").focus().select()}function t(a){$(document).triggerHandler("add_assignment");if(!a||a.length===0){a=$(".assignment_groups_select").val();a=$("#"+a);if(a.length===
0)a=$("#groups .assignment_group:first")}if(a.length!==0){if($("#assignment_new").length>0){if($("#assignment_new").parents(".assignment_group")[0]==a[0]){$("#assignment_new :text:first").focus().select();return}m()}$(".no_assignments_message").hide();var b=$("#assignment_blank").clone(true);b.attr("id","assignment_new");a.find(".assignment_list").prepend(b);a.find(".padding").hide();a.find(".assignment_list").sortable("refresh");b.slideDown("fast",function(){$(this).find(":text:first").focus().select()});
r(b)}}function u(a,b){var c=b.assignment,d=a.attr("id");if((d=="assignment_new"||d=="assignment_creating")&&k&&h){k++;h()}if(c.due_at){d=$.parseFromISO(c.due_at,"due_date");c.due_date=d.date_formatted;c.due_time=d.time_formatted;c.timestamp=d.timestamp;c.due_date_string=$.datepicker.formatDate("mm/dd/yy",d.date);c.due_time_string=d.time_string;a.find(".date_text").show()}else{a.find(".date_text").hide();c.timestamp=0}a.find(".assignment_title").find(".title").attr("title",c.title);a.find(".points_text").showIf(c.points_possible);
a.loadingImage("remove");if(!c.timestamp)c.timestamp=0;a.attr("id");a.fillTemplateData({id:"assignment_"+c.id,data:c,hrefValues:["id"]});a.find(".description").val(c.description);a.find(".links,.move").css("display","");a.toggleClass("group_assignment_editable",c.permissions&&c.permissions.update);v(a.parents(".assignment_group"),a);$("html,body").scrollTo(a)}function v(a,b){var c=b.getTemplateData({textValues:["timestamp","title","position"]}),d=false;c.position=Number(c.position);a.find(".assignment_list .group_assignment").each(function(){if(!($(this).attr("id")===
b.attr("id")||$(this).attr("id")==="assignment_new")){var e=$(this).getTemplateData({textValues:["timestamp","title","position"]});if(c.position<e.position||c.position==e.position&&c.timestamp<e.timestamp||c.position==e.position&&c.timestamp==e.timestamp&&c.title<e.title){d=true;$(this).before(b);return false}}});d||a.find(".assignment_list").append(b)}function w(){var a=$(".assignment_groups_select"),b=a.val();a.empty();$(".assignment_group:visible").each(function(){var c=$(this).attr("id"),d=$(this).getTemplateData({textValues:["name"]}).name;
c=$(document.createElement("option")).val(c).text(d);a.append(c)});a.val(b)}function x(a){var b=$(".group_assignment.assignment-hover:first"),c=$(".assignment_group.group-hover:first");if(c.length===0){c=$(".assignment_group:visible:first");c.addClass("group-hover");c.find(".group_name").focus()}else{var d=b,e=null;if(b.length===0)if(a=="up"){e=c.prev(".assignment_group:visible");d=e.find(".group_assignment:visible:last")}else d=c.find(".group_assignment:visible:first");else if(a=="up"){d=b.prev(".group_assignment:visible");
if(d.length===0){d=null;c.find(".group_name").focus()}}else{d=b.next(".group_assignment:visible");if(d.length===0){e=c.next(".assignment_group:visible");if(e.length===0){e=null;d=b}}}b.removeClass("assignment-hover");if(e){if(e.length===0)e=c;c.removeClass("group-hover");e.addClass("group-hover");e.find(".group_name").focus();if(d.length>0&&d.parents(".assignment_group")[0]==e[0]){d.addClass("assignment-hover");d.find(":tabbabble:first").focus()}}else if(d){d.addClass("assignment-hover");d.find(":tabbable:first").focus()}}}
var q=false,k,l;k||(k=0);l||(l=0);var y={handle:".group_move, .group_move_icon",scroll:true,axis:"y",start:function(a,b){var c=b.item.outerWidth();b.helper.width(c)},update:function(a){var b=$(a.target).parents(".assignment_group").css("width",""),c=[];$("#groups .assignment_group").each(function(){var e=$(this).getTemplateData({textValues:["assignment_group_id"]});$(this)[0]!=b[0]&&c.push(e.assignment_group_id)});a={};a.order=c.join(",");var d=$(".reorder_groups_url").attr("href");$.ajaxJSON(d,"POST",
a,function(e){$(document).triggerHandler("group_reorder",e)})}},p={items:".group_assignment",connectWith:".assignment_group .assignment_list",handle:".move_icon, .move",axis:"y",opacity:0.8,scroll:true,containment:"#content",update:function(a,b){var c=$(b.item).parents(".assignment_group"),d=c.find(".reorder_assignments_url").attr("href"),e=[];c.find(".assignment_list .group_assignment").each(function(g){$(this).find(".position").text(g+1);e.push($(this).getTemplateData({textValues:["id"]}).id)});
c=e.join(",");var f=[d,c].join("-");if(p.lastUpdate!==f){p.lastUpdate=f;$.ajaxJSON(d,"POST",{order:c})}}};$(document).ready(function(){$("#add_assignment_form .more_options_link").click(function(a){a.preventDefault();a=$(this).attr("href").split("#");var b=$(this).parents("form").getFormData({object_name:"assignment"}),c={};if(b.title)c.title=b.title;if(b.due_at)c.due_at=b.due_at;if(b.points_possible)c.points_possible=b.points_possible;if(b.assignment_group_id)c.assignment_group_id=b.assignment_group_id;
if(b.submission_types)c.submission_types=b.submission_types;c.model_key=Math.round(Math.random()*999999);if(INST&&INST.gettingStartedPage)c.getting_started="1";c.return_to=location.href;a[0]+="?"+$.param(c);location.href=a.join("#")});$(".datetime_field").datetime_field();$(document).bind("group_reorder",function(a,b){if(b&&b.order)for(var c in b.order){var d=b.order[c];$("#groups").append($("#group_"+d));$("#group_weight tbody:first").append($("#group_weight_"+d))}});$(document).bind("group_create",
function(a,b){if(b&&b.assignment_group){var c=b.assignment_group,d=$("#groups .assignment_group").index($("#group_"+c.id));$("#group_weight .group_weight").eq(d);d=$("#group_weight_blank").clone(true).removeAttr("id");d.fillTemplateData({data:c,id:"group_weight_"+c.id});d.find(".weight").val(c.group_weight).triggerHandler("change");$("#group_weight tbody:first").prepend(d.show());$("#group_weight tbody").sortable("refresh")}});$("#class_weighting_policy").bind("checked",function(){var a=$(this).attr("checked");
$("#groups .assignment_group").find(".more_info_brief,.group_weight_percent").showIf(a)});$("#group_weight .group_weight").hover(function(){$("#group_weight .group_weight_hover").removeClass("group_weight_hover");$(this).addClass("group_weight_hover")},function(){});$(document).bind("mouseover",function(a){$(a.target).closest("#group_weight").length===0&&$("#group_weight .group_weight_hover").removeClass("group_weight_hover");$(a.target).closest(".assignment_group").length===0&&$(".group_assignment.assignment-hover").removeClass("assignment-hover")});
$("#group_weight").bind("weight_change",function(){var a=0;$("#group_weight .weight:visible").each(function(){var b=parseFloat($(this).val(),10);if(isNaN(b))b=0;a+=b});$("#group_weight #group_weight_total").text(a+"%")});$("#group_weight .weight").bind("change",function(a,b){var c=parseFloat($(this).val(),10);if(isNaN(c))c=0;$(this).val(c);$("#group_weight").triggerHandler("weight_change");if(b!==false){var d=$(this);d.parents(".group_weight").loadingImage({image_size:"small"});var e=d.parents(".group_weight").getTemplateData({textValues:["id"]}).id;
c=$("#group_"+e).find(".assignment_group_url").attr("href");var f={"assignment_group[group_weight]":d.val()};$.ajaxJSON(c,"PUT",f,function(g){d.parents(".group_weight").loadingImage("remove");g=g.assignment_group.group_weight||0;d.val(g);d.triggerHandler("change",false);$("#group_"+e).find(".group_weight").text(g)},function(){d.parents(".group_weight").loadingImage("remove")})}}).each(function(){$(this).triggerHandler("change",false)});$("#group_weight tbody").sortable({handle:".move",scroll:true,
axis:"y",update:function(){var a=[];$("#group_weight .group_weight").each(function(){var d=$(this).getTemplateData({textValues:["id"]});a.push(d.id)});var b={};b.order=a.join(",");var c=$(".reorder_groups_url").attr("href");$("#group_weight").loadingImage();$.ajaxJSON(c,"POST",b,function(d){$("#group_weight").loadingImage("remove");$(document).triggerHandler("group_reorder",d)},function(){$("#group_weight").loadingImage("remove")})}});$("#class_weighting_policy").change(function(a,b){if(b)$(this).triggerHandler("checked");
else{var c={},d=$(this).attr("checked");c["course[group_weighting_scheme]"]=d?"percent":"equal";$("#class_weighting_box").loadingImage({image_size:"small"});$.ajaxJSON($("#class_weighting_box .context_url").attr("href"),"PUT",c,function(e){e=e.course;$("#group_weight").showIf(d);var f=false;$("#group_weight .group_weight:visible").each(function(){if(parseInt($(this).find(".weight").val(),10))f=true});if(!f){var g=$("#group_weight .group_weight:visible").length,i=100/g;$("#group_weight .group_weight:visible").each(function(){$(this).find(".weight").val(i).triggerHandler("change")});
$("#group_weight .group_weight:visible:last").find(".weight").val(100-i*(g-1)).triggerHandler("change")}$("#class_weighting_box").loadingImage("remove");d=e.group_weighting_scheme=="percent";$("#class_weighting_policy").attr("checked",d);$("#class_weighting_policy").triggerHandler("checked")})}}).triggerHandler("change",true);$(".more_info_link").click(function(a){a.preventDefault();$(this).hide();$(this).parents(".assignment_group").find(".hide_info_link").show().end().find(".more_info").show();
var b="";a=$(this).parents(".assignment_group").find(".rules").text().split("\n");$.each(a,function(c,d){var e=d.split(":");if(e.length==2){var f=e[0];e=e[1];if(f=="drop_lowest")b+="Drop the Lowest "+e+" Scores<br/>";else if(f=="drop_highest")b+="Drop the Highest "+e+" Scores<br/>";else if(f=="never_drop"){f=$("#assignment_"+e).find(".title").text();b+="Never Drop "+f+"<br/>"}}});$(this).parents(".assignment_group").find(".rule_details").html(b)});$(".hide_info_link").click(function(a){a.preventDefault();
$(this).parents(".assignment_group").find(".more_info_link").show().end().find(".hide_info_link").hide().end().find(".more_info").hide()});$(".group_assignment").hover(function(){$(".assignment_group.group-hover").removeClass("group-hover");$(this).parents(".assignment_group").addClass("group-hover");$("#groups .assignment_group").length>1&&$(this).parents(".assignment_group").find(".edit_group_link:visible").length>0?$(this).parents(".assignment_group").find(".group_move_icon").show():$(this).parents(".assignment_group").find(".group_move_icon").hide();
$(".group_assignment.assignment-hover").removeClass("assignment-hover");$(this).addClass("assignment-hover");if($("#groups .assignment_group").length>0&&$(this).find(".edit_assignment_link").css("display")!="none"){$(this).find(".submitted_icon").hide();$(this).find(".move_icon").show()}else $(this).find(".move_icon").hide()},function(){});$(".add_group_link").click(function(a){a.preventDefault();if(!($("#group_new").length>0&&$("#add_group_form").css("display")=="block")){$("#group_blank .header .name").text("Other Assignments");
a=$("#group_blank").clone(true);a.find(".assignment_list").empty();a.attr("id","group_new").find(".header .name").text("Group Name");$("#groups").prepend(a.show());a.find(".padding").show();$("#class_weighting_policy").attr("checked");a.find(".assignment_list").sortable(p);$(".assignment_group .assignment_list").sortable("option","connectWith",".assignment_group .assignment_list");s(a)}});$(".edit_group_link").click(function(a){a.preventDefault();a=$(this).parents(".assignment_group");s(a)});$(".delete_group_link").click(function(a){a.preventDefault();
var b=$(this).parents(".assignment_group"),c=b.getTemplateData({textValues:["assignment_group_id"]}).assignment_group_id;b.confirmDelete({message:"Are you sure you want to delete this group?",url:$(this).attr("href"),success:function(){n();b.slideUp("normal",function(){$(this).remove();w();$("#group_weight_"+c).remove();$("#group_weight .group_weight:visible:first .weight").triggerHandler("change",false)});$("#groups .assignment_group").length<=1&&$("#groups .assignment_group .delete_group_link").hide();
if(l&&h){l--;h()}}})});$("#add_group_form .cancel_button").click(function(){$(this).parents(".assignment_group");n()});$("#add_group_form").formSubmit({object_name:"assignment_group",processData:function(a){a=$(this).getFormData({object_name:"assignment_group"});var b=$(this).parents(".assignment_group").find(".header").find(".form_rules .rule"),c="";$.each(b,function(d,e){var f=$(e),g=f.find("select[name='rule_type']").val(),i=f.find("input[name='scores_to_drop']").val();f=f.find("select[name='assignment_to_never_drop']").val();
if(g=="never_drop"){if(f!="0")c+=g+":"+f+"\n"}else{f=parseInt(i,10);if(!isNaN(f)&&isFinite(f)&&f>0)c+=g+":"+i+"\n"}});a.rules=c;a["assignment_group[rules]"]=a.rules;return a},beforeSubmit:function(a){var b=$(this).parents(".assignment_group"),c=b.find(".header");c.fillTemplateData({data:a,htmlValues:["rules"]});c.loadingImage({image_size:"small"});b.attr("id")=="group_new"&&b.attr("id","group_creating");n();return b},success:function(a,b){var c=b.find(".header");c.loadingImage("remove");var d=a.assignment_group;
b.attr("id")=="group_creating"&&$(document).triggerHandler("group_create",a);if(b.attr("id")=="group_creating"&&l&&h){l++;h()}d.assignment_group_id=d.id;b.attr("id","group_"+d.id);c.fillTemplateData({data:d,hrefValues:["id"]});$("#group_weight_"+d.id).find(".weight").val(d.group_weight||0).triggerHandler("change",false);b.toggleClass("assignment_group_editable",d.permissions&&d.permissions.update);$("#class_weighting_policy").trigger("change",true);if($("#groups .assignment_group").length>1&&!d.permissions||
!d.permissions["delete"])$("#groups .assignment_group .delete_group_link").show();b.triggerHandler("group_update");w()}});$(".assignment_group").bind("group_update",function(){var a=$(this),b=a.getTemplateData({textValues:["rules"]}).rules;a.find(".more_info_link").showIf(b)}).each(function(){$(this).triggerHandler("group_update")});$(".group_rule_type").change(function(){var a=$(this).parents(".rule");$(this).val()=="never_drop"?a.find(".drop_scores").hide().end().find(".never_drop_assignment").show():
a.find(".drop_scores").show().end().find(".never_drop_assignment").hide()}).val("drop_lowest").change();$(".add_rule_link").click(function(a){a.preventDefault();a=$("#assignment_group_rule_blank").clone(true);a.attr("id","");$("#add_group_form .form_rules").append(a.show())});$(".delete_rule_link").click(function(a){a.preventDefault();$(this).parents(".rule").remove()});$(".add_assignment_link").click(function(a){a.preventDefault();t($(this).parents(".assignment_group"))});$("#add_assignment_form input[name='assignment[due_date]']").datepicker({gotoCurrent:true,
onClose:function(){$("#add_assignment_form input[name='assignment[due_date]']").focus().select()}});$("#add_assignment_form :input").formSuggestion();$("#add_assignment_form").formSubmit({object_name:"assignment",required:["title"],processData:function(){var a=$(this).getFormData({object_name:"assignment"});if(a["assignment[due_at]"])a["assignment[due_at]"]=$.datetime.process(a["assignment[due_at]"]);return a},beforeSubmit:function(a){var b=$(this).parents(".group_assignment");b.fillTemplateData({data:a});
var c=null;if(a["assignment[due_at]"])c=Date.parse(a["assignment[due_at]"]);var d=0;if(c){d=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())/1E3;due_time=c.toString("h:mmtt").toLowerCase();if(due_time=="12:00am")due_time="";b.fillTemplateData({data:{due_date:$.dateString(c),due_time:due_time}})}b.find(".date_text").show();if(isNaN(d)||!isFinite(d)||!d){d=0;b.find(".date_text").hide()}b.fillTemplateData({data:{timestamp:d,title:a.title}});b.find(".points_text").showIf(a.points_possible);
v(b.parents(".assignment_group"),b);b.find(".links").hide();b.loadingImage({image_size:"small",paddingTop:5});$("html,body").scrollTo(b);b.attr("id")=="assignment_new"&&b.attr("id","assignment_creating");m();return b},success:function(a,b){$(document).triggerHandler("assignment_update");u(b,a)},error:function(){}});$("#add_assignment_form .cancel_button").click(function(){$(this).parents(".group_assignment").parents(".assignment_group");m()});$(".delete_assignment_link").click(function(a){a.preventDefault();
var b=$(this).parents(".group_assignment"),c=b.parents(".assignment_group");b.confirmDelete({message:"Are you sure you want to delete this assignment?",url:$(this).attr("href"),success:function(){b.slideUp(function(){b.remove();c.find(".group_assignment").length===0&&c.find(".padding").show()});if(k&&h){k--;h()}}})});$(".edit_assignment_link").click(function(a){a.preventDefault();a=$(this).parents(".group_assignment");r(a)});$(".show_date_link,.hide_date_link").click(function(a){a.preventDefault();
$(this).parents("form").find(".date_options").toggle();$(".show_date_link").toggle();q=!q});$("#groups").sortable(y);$("#groups.groups_editable .assignment_group .assignment_list").sortable(p);$("#groups .assignment_group").length===0&&$("#group_blank .group_assignment").length===0&&t();$("#add_assignment_form :text").keydown(function(a){a.keyCode==27&&m()});$("#add_group_form :text").keydown(function(a){a.keyCode==27&&n()});$("#edit_assignment_form").bind("assignment_updated",function(a,b){var c=
$("#assignment_"+b.assignment.id);u(c,b)});$(".preview_assignment_link").click(function(a){a.preventDefault();a=$(this).parents(".group_assignment");var b=a.getTemplateData({textValues:["title","id","points_possible","due_date","due_time","due_date_string","due_time_string","submission_types","assignment_group_id","grading_type","min_score","max_score","mastery_score","unlock_at"]});b.description=a.find(".description").val()||"No Content";b.due_at=$.trim(b.due_date+" "+b.due_time);$("#full_assignment").fillTemplateData({data:b,
htmlValues:["description"]}).find(".date_text").showIf(b.due_date&&b.due_date.length>0).end().find(".points_text").showIf(b.points_possible&&b.points_possible.length>0);$("#edit_assignment_form").fillFormData({data:b,object_name:"assignment"}).attr("action",a.find(".assignment_url").attr("href"));a=Math.max(Math.round($(window).height()*0.8),400);$("#full_assignment_holder").dialog("close").dialog({title:"Assignment Details",autoOpen:false,width:630,height:a,modal:true,close:function(){$("#full_assignment_holder #edit_assignment_form .cancel_button").click()},
overlay:{backgroundColor:"#000",opacity:0.7}}).dialog("open");$("#full_assignment").show()});$(document).keycodes("j k",function(a){a.preventDefault();if(a.keyString=="j")x("down");else a.keyString=="k"&&x("up")});$(".assignment_group").keycodes("a e d m",function(a){a.preventDefault();if(a.keyString=="a")$(this).find(".add_assignment_link:visible:first").click();else if(a.keyString=="e")$(this).find(".edit_group_link:visible:first").click();else a.keyString=="d"&&$(this).find(".delete_group_link:visible:first").click()});
$(".group_assignment").keycodes("f e d m",function(a){a.preventDefault();a.stopPropagation();if(a.keyString=="f")$(this).find(".preview_assignment_link:visible:first").click();else if(a.keyString=="e")$(this).find(".edit_assignment_link:visible:first").click();else a.keyString=="d"&&$(this).find(".delete_assignment_link:visible:first").click()});$(document).click(function(a){if($(a.target).closest(".assignment_group").length===0){$(".group_assignment.assignment-hover").removeClass("assignment-hover");
$(".assignment_group.group-hover").removeClass("group-hover")}});$(".group_assignment .title").focus(function(){$(this).parents(".group_assignment").triggerHandler("mouseover")});$("#wizard_box").bind("wizard_opened",function(){$(this).find(".wizard_introduction").click()})})})();
